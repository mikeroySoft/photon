<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.82.0"><link rel=canonical type=text/html href=../../../docs/installation-guide/><link rel=alternate type=application/rss+xml href=../../../docs/installation-guide/index.xml><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel="shortcut icon" href=../../../favicons/favicon.ico><link rel=apple-touch-icon href=../../../favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=../../../favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=../../../favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=../../../favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=../../../favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=../../../favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=../../../favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=../../../favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=../../../favicons/android-192x192.png sizes=192x192><title>Installation Guide |</title><meta property="og:title" content="Installation Guide"><meta property="og:description" content="VMware Photon docs"><meta property="og:type" content="website"><meta property="og:url" content="/docs/installation-guide/"><meta itemprop=name content="Installation Guide"><meta itemprop=description content="VMware Photon docs"><meta name=twitter:card content="summary"><meta name=twitter:title content="Installation Guide"><meta name=twitter:description content="VMware Photon docs"><link rel=preload href=../../../scss/main.min.37920ca9c3c378ff1556150cf2bce5faf1a7ed81d061a0bc35771668193fe176.css as=style><link href=../../../scss/main.min.37920ca9c3c378ff1556150cf2bce5faf1a7ed81d061a0bc35771668193fe176.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script></head><body class=td-section><header><div class="container-fluid pl-3 pr-3" id=navbarish><nav class="navbar navbar-default navbar-dark navbar-expand-md d-flex justify-content-between" role=navigation data-toggle=collapse data-target=#menu_items aria-expanded=false aria-controls=navbar><div class="navbar-header d-flex align-items-center justify-content-between"><a class=navbar-brand href=../../../><span class=navbar-logo><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 511.4375 135.7375" height="135.7375" width="511.4375" id="svg3355"><defs id="defs3359"><clipPath id="clipPath3387" clipPathUnits="userSpaceOnUse"><path id="path3389" d="M142.293 245.191l494.93 337.36L74.8398 348.098"/></clipPath><linearGradient id="linearGradient3391" spreadMethod="pad" gradientTransform="matrix(-493.8,-339.007,339.007,-493.8,601.845,634.081)" gradientUnits="userSpaceOnUse" y2="0" x2="1" y1="0" x1="0"><stop id="stop3393" offset="0" style="stop-opacity:1;stop-color:#ffffff"/><stop id="stop3395" offset="1" style="stop-opacity:1;stop-color:#80c64c"/></linearGradient><clipPath id="clipPath3405" clipPathUnits="userSpaceOnUse"><path id="path3407" d="M85.2852 570.719 516.813 593.84 54.5195 690.582"/></clipPath><linearGradient id="linearGradient3409" spreadMethod="pad" gradientTransform="matrix(-304.079,-208.759,208.759,-304.079,420.197,734.568)" gradientUnits="userSpaceOnUse" y2="0" x2="1" y1="0" x1="0"><stop id="stop3411" offset="0" style="stop-opacity:1;stop-color:#ffffff"/><stop id="stop3413" offset="1" style="stop-opacity:1;stop-color:#22437e"/></linearGradient><clipPath id="clipPath3423" clipPathUnits="userSpaceOnUse"><path id="path3425" d="m538.137 270.234 95.324 293.5-205.699-247.089"/></clipPath><linearGradient id="linearGradient3427" spreadMethod="pad" gradientTransform="matrix(-255.101,-175.134,175.134,-255.101,686.667,486.234)" gradientUnits="userSpaceOnUse" y2="0" x2="1" y1="0" x1="0"><stop id="stop3429" offset="0" style="stop-opacity:1;stop-color:#ffffff"/><stop id="stop3431" offset="1" style="stop-opacity:1;stop-color:#65a5de"/></linearGradient><clipPath id="clipPath3441" clipPathUnits="userSpaceOnUse"><path id="path3443" d="M857.758 94.3906 656.035 546.801 745.172 53.6406"/></clipPath><linearGradient id="linearGradient3445" spreadMethod="pad" gradientTransform="matrix(-102.35,-449.574,449.574,-102.35,800.888,513.826)" gradientUnits="userSpaceOnUse" y2="0" x2="1" y1="0" x1="0"><stop id="stop3447" offset="0" style="stop-opacity:1;stop-color:#ffffff"/><stop id="stop3449" offset="1" style="stop-opacity:1;stop-color:#c6da3a"/></linearGradient><clipPath id="clipPath3459" clipPathUnits="userSpaceOnUse"><path id="path3461" d="M481.316 864.746 635.938 602.125l-41.313 301.32"/></clipPath><linearGradient id="linearGradient3463" spreadMethod="pad" gradientTransform="matrix(67.7401,274.401,-274.401,67.7401,532.514,627.656)" gradientUnits="userSpaceOnUse" y2="0" x2="1" y1="0" x1="0"><stop id="stop3465" offset="0" style="stop-opacity:1;stop-color:#ffffff"/><stop id="stop3467" offset="1" style="stop-opacity:1;stop-color:#c6da3a"/></linearGradient><clipPath id="clipPath3477" clipPathUnits="userSpaceOnUse"><path id="path3479" d="M1085.54 913.828 683.598 585.359l456.522 219.75"/></clipPath><linearGradient id="linearGradient3481" spreadMethod="pad" gradientTransform="matrix(441.375,262.068,-262.068,441.375,675.147,599.59)" gradientUnits="userSpaceOnUse" y2="0" x2="1" y1="0" x1="0"><stop id="stop3483" offset="0" style="stop-opacity:1;stop-color:#ffffff"/><stop id="stop3485" offset="1" style="stop-opacity:1;stop-color:#22638b"/></linearGradient><clipPath id="clipPath3495" clipPathUnits="userSpaceOnUse"><path id="path3497" d="M1177.19 335.031 693.664 556.211 1106.69 235.887"/></clipPath><linearGradient id="linearGradient3499" spreadMethod="pad" gradientTransform="matrix(450.785,-274.875,274.875,450.785,694.818,558.101)" gradientUnits="userSpaceOnUse" y2="0" x2="1" y1="0" x1="0"><stop id="stop3501" offset="0" style="stop-opacity:1;stop-color:#ffffff"/><stop id="stop3503" offset="1" style="stop-opacity:1;stop-color:#a6dbe7"/></linearGradient><clipPath id="clipPath3513" clipPathUnits="userSpaceOnUse"><path id="path3515" d="M209.754 773.73l382.32-187.417L280.926 872.391"/></clipPath><linearGradient id="linearGradient3517" spreadMethod="pad" gradientTransform="matrix(-360.263,223.047,-223.047,-360.263,601.957,602.271)" gradientUnits="userSpaceOnUse" y2="0" x2="1" y1="0" x1="0"><stop id="stop3519" offset="0" style="stop-opacity:1;stop-color:#ffffff"/><stop id="stop3521" offset="1" style="stop-opacity:1;stop-color:#a6dbe7"/></linearGradient></defs><g transform="matrix(1.25,0,0,-1.25,0,135.7375)" id="g3363"><g transform="scale(0.1,0.1)" id="g3365"><path id="path3367" style="fill:#696566;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m1544.2 536.77c69.27.0 114.66 37.031 114.66 91.972v1.192c0 59.726-44.79 90.781-112.28 90.781h-105.7V536.77h103.32zm-150.51 203.652c0 13.141 10.75 23.891 23.29 23.891h133.19c94.36.0 156.47-50.172 156.47-132.586v-1.192c0-90.183-75.25-136.765-164.24-136.765h-101.52V367.148c0-13.132-10.76-23.886-23.9-23.886-12.54.0-23.29 10.754-23.29 23.886v373.274"/><path id="path3369" style="fill:#696566;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m1765.51 743.41c0 13.141 10.76 23.887 23.29 23.887 13.14.0 23.9-10.746 23.9-23.887V578.574h241.28V743.41c0 13.141 10.74 23.887 23.88 23.887 12.55.0 23.3-10.746 23.3-23.887V367.148c0-13.132-10.75-23.886-23.3-23.886-13.14.0-23.88 10.754-23.88 23.886v167.227H1812.7V367.148c0-13.132-10.76-23.886-23.9-23.886-12.53.0-23.29 10.754-23.29 23.886V743.41"/><path id="path3371" style="fill:#696566;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m2554.86 554.082v1.203c0 94.957-69.28 172.598-164.83 172.598-95.56.0-163.65-76.445-163.65-171.406v-1.192c0-94.961 69.28-172.597 164.84-172.597 95.55.0 163.64 76.445 163.64 171.394zm-377.45.0v1.203c0 115.262 86.6 216.192 213.81 216.192 127.2.0 212.6-99.739 212.6-215v-1.192c0-115.265-86.59-216.203-213.79-216.203-127.22.0-212.62 99.738-212.62 215"/><path id="path3373" style="fill:#696566;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m2756.35 720.715h-121.24c-11.94.0-22.09 9.555-22.09 21.5.0 11.941 10.15 22.098 22.09 22.098h290.26c11.94.0 22.1-10.157 22.1-22.098.0-11.945-10.16-21.5-22.1-21.5h-121.23V367.148c0-13.132-10.75-23.886-23.9-23.886-13.13.0-23.89 10.754-23.89 23.886v353.567"/><path id="path3375" style="fill:#696566;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m3332.78 554.082v1.203c0 94.957-69.28 172.598-164.83 172.598-95.56.0-163.65-76.445-163.65-171.406v-1.192c0-94.961 69.28-172.597 164.84-172.597 95.55.0 163.64 76.445 163.64 171.394zm-377.45.0v1.203c0 115.262 86.6 216.192 213.81 216.192 127.2.0 212.6-99.739 212.6-215v-1.192c0-115.265-86.59-216.203-213.79-216.203-127.22.0-212.62 99.738-212.62 215"/><path id="path3377" style="fill:#696566;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m3458.31 742.813c0 12.539 10.75 23.292 23.29 23.292h6.57c10.75.0 17.32-5.375 23.89-13.742l253.83-323.691v315.332c0 12.547 10.14 23.293 23.29 23.293 12.54.0 22.69-10.746 22.69-23.293V366.555c0-12.539-8.96-22.09-21.5-22.09h-2.4c-10.14.0-17.31 5.965-24.48 14.324l-259.2 331.465V366.555c0-12.539-10.14-23.293-23.29-23.293-12.54.0-22.69 10.754-22.69 23.293v376.258"/><path id="path3379" style="fill:#696566;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m3982.91 759.98c0 4.528 3.13 7.665 7.66 7.665h2.09c3.14.0 5.22-1.395 6.97-3.829l37.6-58.503 38.3 58.503c1.74 2.434 3.83 3.829 6.61 3.829h2.09c3.83.0 7.32-3.485 7.32-7.665v-94.011c0-4.18-3.49-7.66-7.66-7.66-4.18.0-7.31 3.48-7.31 7.66v72.426l-32.38-48.403c-1.75-2.785-3.83-4.527-6.97-4.527-3.13.0-5.22 1.742-6.96 4.527l-32.04 48.403v-72.426c0-4.18-3.48-7.66-7.66-7.66s-7.66 3.48-7.66 7.66v94.011zm-73.47-7.308h-28.91c-3.82.0-7.3 3.48-7.3 7.308.0 3.836 3.48 7.317 7.3 7.317h72.78c4.18.0 7.31-3.481 7.31-7.317.0-3.828-3.13-7.308-7.31-7.308h-28.55v-86.703c0-4.18-3.48-7.66-8.01-7.66-4.18.0-7.31 3.48-7.31 7.66v86.703"/><path id="path3381" style="fill:#696566;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m597.898 989.039c-236.39.0-428.714-192.324-428.714-428.719.0-236.39 192.324-428.715 428.714-428.715 236.395.0 428.722 192.325 428.722 428.715.0 236.395-192.327 428.719-428.722 428.719zm0-954.289c-289.796.0-525.566 235.773-525.566 525.57s235.77 525.57 525.566 525.57c289.801.0 525.572-235.773 525.572-525.57S887.699 34.75 597.898 34.75"/><g id="g3383"><g clip-path="url(#clipPath3387)" id="g3385"><path id="path3397" style="fill:url(#linearGradient3391);fill-opacity:1;fill-rule:nonzero;stroke:none" d="M142.293 245.191l494.93 337.36L74.8398 348.098"/></g></g><path id="path3399" style="fill:#62b92c;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m167.938 304.09c-4.524 34.332-36.024 58.496-70.356 53.973-34.332-4.52-58.5-36.02-53.9765-70.352 4.5234-34.336 36.0234-58.5 70.3555-53.977 34.332 4.524 58.5 36.02 53.977 70.356"/><g id="g3401"><g clip-path="url(#clipPath3405)" id="g3403"><path id="path3415" style="fill:url(#linearGradient3409);fill-opacity:1;fill-rule:nonzero;stroke:none" d="M85.2852 570.719 516.813 593.84 54.5195 690.582"/></g></g><path id="path3417" style="fill:#133a73;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m124.875 636.605c-4.523 34.333-36.0234 58.5-70.3555 53.977C20.1875 686.059-3.98047 654.559.542969 620.227 5.06641 585.895 36.5664 561.727 70.8984 566.25c34.3356 4.523 58.4996 36.023 53.9766 70.355"/><g id="g3419"><g clip-path="url(#clipPath3423)" id="g3421"><path id="path3433" style="fill:url(#linearGradient3427);fill-opacity:1;fill-rule:nonzero;stroke:none" d="m538.137 270.234 95.324 293.5-205.699-247.089"/></g></g><path id="path3435" style="fill:#4194d7;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m541.352 289.715c-4.524 34.332-36.024 58.5-70.356 53.973-34.336-4.52-58.5-36.02-53.976-70.352 4.523-34.336 36.023-58.5 70.355-53.977 34.332 4.524 58.496 36.024 53.977 70.356"/><g id="g3437"><g clip-path="url(#clipPath3441)" id="g3439"><path id="path3451" style="fill:url(#linearGradient3445);fill-opacity:1;fill-rule:nonzero;stroke:none" d="M857.758 94.3906 656.035 546.801 745.172 53.6406"/></g></g><path id="path3453" style="fill:#b9d110;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m846.91 110.883c-26.609 22.164-66.144 18.558-88.308-8.051-22.164-26.6132-18.559-66.1406 8.05-88.3125 26.61-22.16013 66.145-18.55075 88.309 8.0586 22.164 26.6016 18.559 66.1446-8.051 88.3049"/><g id="g3455"><g clip-path="url(#clipPath3459)" id="g3457"><path id="path3469" style="fill:url(#linearGradient3463);fill-opacity:1;fill-rule:nonzero;stroke:none" d="M481.316 864.746 635.938 602.125l-41.313 301.32"/></g></g><path id="path3471" style="fill:#b9d110;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m491.863 848.059c26.203-22.645 65.797-19.758 88.442 6.441 22.64 26.203 19.758 65.797-6.446 88.441-26.199 22.645-65.796 19.758-88.437-6.445-22.645-26.199-19.762-65.797 6.441-88.437"/><g id="g3473"><g clip-path="url(#clipPath3477)" id="g3475"><path id="path3487" style="fill:url(#linearGradient3481);fill-opacity:1;fill-rule:nonzero;stroke:none" d="M1085.54 913.828 683.598 585.359l456.522 219.75"/></g></g><path id="path3489" style="fill:#22638b;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m1050.12 855.145c2.26-34.555 32.1-60.743 66.66-58.485 34.55 2.254 60.74 32.098 58.48 66.653-2.25 34.554-32.09 60.742-66.65 58.484-34.56-2.254-60.74-32.098-58.49-66.652"/><g id="g3491"><g clip-path="url(#clipPath3495)" id="g3493"><path id="path3505" style="fill:url(#linearGradient3499);fill-opacity:1;fill-rule:nonzero;stroke:none" d="M1177.19 335.031 693.664 556.211 1106.69 235.887"/></g></g><path id="path3507" style="fill:#91d2e1;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m1108.75 338.84c-29.47-18.176-38.63-56.805-20.46-86.281 18.18-29.477 56.81-38.637 86.29-20.461 29.47 18.179 38.63 56.808 20.45 86.285-18.17 29.476-56.8 38.637-86.28 20.457"/><g id="g3509"><g clip-path="url(#clipPath3513)" id="g3511"><path id="path3523" style="fill:url(#linearGradient3517);fill-opacity:1;fill-rule:nonzero;stroke:none" d="M209.754 773.73l382.32-187.417L280.926 872.391"/></g></g><path id="path3525" style="fill:#91d2e1;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m278.168 769.453c29.598 17.977 39.02 56.543 21.043 86.145-17.977 29.597-56.543 39.019-86.145 21.043-29.597-17.977-39.019-56.543-21.043-86.141 17.977-29.602 56.543-39.023 86.145-21.047"/><path id="path3527" style="fill:#62b92c;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m714.422 718.262c8.172-9.321 22.351-10.246 31.672-2.074 9.316 8.175 10.246 22.355 2.07 31.675-8.172 9.317-22.351 10.246-31.672 2.071-9.316-8.172-10.246-22.356-2.07-31.672"/><path id="path3529" style="fill:#62b92c;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m827.305 484.969c8.175-9.321 22.355-10.25 31.672-2.074 9.32 8.171 10.25 22.355 2.074 31.671-8.172 9.321-22.356 10.247-31.672 2.075-9.32-8.176-10.246-22.356-2.074-31.672"/><path id="path3531" style="fill:#62b92c;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m906.813 877.289c8.175-9.316 22.355-10.246 31.675-2.07 9.317 8.172 10.246 22.351 2.071 31.672-8.172 9.32-22.356 10.246-31.672 2.074-9.321-8.176-10.246-22.356-2.074-31.676"/><path id="path3533" style="fill:#62b92c;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m987.531 166.984c8.172-9.32 22.359-10.246 31.669-2.074 9.32 8.176 10.25 22.356 2.08 31.676-8.18 9.316-22.358 10.242-31.678 2.07-9.317-8.176-10.247-22.355-2.071-31.672"/><path id="path3535" style="fill:#62b92c;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m140.008 473.707c8.172-9.32 22.351-10.246 31.672-2.074 9.316 8.176 10.246 22.355 2.074 31.676-8.176 9.316-22.356 10.246-31.676 2.07-9.316-8.172-10.246-22.356-2.07-31.672"/><path id="path3537" style="fill:#62b92c;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m609.063 315.641c8.171-9.321 22.355-10.246 31.671-2.075 9.321 8.176 10.246 22.356 2.075 31.676-8.176 9.317-22.356 10.246-31.676 2.071-9.317-8.172-10.246-22.352-2.07-31.672"/><path id="path3539" style="fill:#62b92c;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m458.551 398.422c8.172-9.317 22.351-10.246 31.672-2.07 9.32 8.171 10.246 22.351 2.074 31.671-8.176 9.317-22.356 10.247-31.676 2.071-9.316-8.172-10.246-22.352-2.07-31.672"/><path id="path3541" style="fill:#133a73;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m518.754 661.82c8.176-9.32 22.355-10.246 31.672-2.074 9.32 8.176 10.25 22.356 2.074 31.676-8.176 9.316-22.355 10.246-31.672 2.07-9.32-8.172-10.25-22.355-2.074-31.672"/><path id="path3543" style="fill:#133a73;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m744.523 394.66c8.172-9.32 22.356-10.246 31.672-2.074 9.321 8.176 10.246 22.355 2.075 31.676-8.176 9.316-22.356 10.246-31.672 2.07-9.321-8.172-10.25-22.355-2.075-31.672"/><path id="path3545" style="fill:#133a73;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m714.422 605.379c8.172-9.32 22.351-10.246 31.672-2.074 9.316 8.172 10.246 22.355 2.07 31.672-8.172 9.32-22.351 10.246-31.672 2.074-9.316-8.176-10.246-22.356-2.07-31.672"/><path id="path3547" style="fill:#133a73;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m368.242 469.918c8.172-9.32 22.356-10.25 31.672-2.074 9.32 8.172 10.246 22.355 2.074 31.672-8.175 9.32-22.355 10.246-31.675 2.074-9.317-8.176-10.247-22.356-2.071-31.672"/><path id="path3549" style="fill:#4194d7;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m633.461 620.176c8.172-9.317 22.355-10.246 31.672-2.071 9.32 8.172 10.246 22.356 2.074 31.672-8.176 9.321-22.355 10.246-31.676 2.075-9.316-8.176-10.246-22.356-2.07-31.676"/><path id="path3551" style="fill:#4194d7;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m646.691 752.129c8.172-9.32 22.352-10.25 31.672-2.074 9.321 8.172 10.246 22.355 2.075 31.672-8.176 9.32-22.356 10.246-31.676 2.074-9.317-8.176-10.246-22.356-2.071-31.672"/><path id="path3553" style="fill:#4194d7;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m819.777 334.453c8.176-9.316 22.356-10.246 31.676-2.07 9.317 8.172 10.246 22.351 2.07 31.672-8.171 9.32-22.351 10.246-31.671 2.074-9.321-8.176-10.247-22.356-2.075-31.676"/><path id="path3555" style="fill:#4194d7;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m812.242 571.512c8.176-9.321 22.356-10.246 31.676-2.074 9.316 8.175 10.246 22.355 2.07 31.675-8.172 9.317-22.351 10.246-31.672 2.071-9.316-8.172-10.246-22.356-2.074-31.672"/><path id="path3557" style="fill:#4194d7;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m382.156 392.988c8.172-9.316 22.356-10.246 31.672-2.07 9.32 8.172 10.246 22.355 2.074 31.672-8.175 9.32-22.355 10.246-31.672 2.074-9.32-8.176-10.25-22.355-2.074-31.676"/><path id="path3559" style="fill:#4194d7;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m613.543 476.398c8.176-9.32 22.355-10.25 31.676-2.074 9.316 8.176 10.246 22.356 2.07 31.672-8.172 9.32-22.355 10.246-31.672 2.074-9.32-8.175-10.246-22.355-2.074-31.672"/><path id="path3561" style="fill:#4194d7;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m435.969 645.902c8.172-9.32 22.351-10.246 31.672-2.074 9.32 8.176 10.246 22.356 2.074 31.676-8.176 9.316-22.356 10.246-31.676 2.07-9.316-8.172-10.246-22.355-2.07-31.672"/><path id="path3563" style="fill:#4194d7;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m629.688 164.293c8.171-9.32 22.355-10.246 31.671-2.074 9.321 8.176 10.246 22.355 2.075 31.676-8.176 9.316-22.356 10.246-31.672 2.07-9.321-8.172-10.25-22.356-2.074-31.672"/><path id="path3565" style="fill:#b9d110;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m499.398 462.395c12.329-1.301 23.379 7.632 24.684 19.96 1.305 12.325-7.633 23.375-19.961 24.68-12.324 1.305-23.375-7.633-24.68-19.957-1.304-12.328 7.633-23.379 19.957-24.683"/><path id="path3567" style="fill:#b9d110;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m721.23 510.641c-12.3 1.527-23.511-7.207-25.039-19.508-1.527-12.301 7.207-23.512 19.508-25.039 12.301-1.528 23.512 7.207 25.039 19.508 1.528 12.3-7.207 23.507-19.508 25.039"/><path id="path3569" style="fill:#22638b;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m594.34 420.676c-7.543 9.836-21.629 11.695-31.469 4.152-9.836-7.543-11.691-21.633-4.148-31.469s21.632-11.695 31.468-4.152 11.696 21.633 4.149 31.469"/><path id="path3571" style="fill:#22638b;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m594.828 581.156c-7.543 9.836-21.633 11.696-31.469 4.153s-11.695-21.633-4.152-31.469c7.547-9.836 21.633-11.695 31.469-4.152 9.836 7.542 11.695 21.632 4.152 31.468"/><path id="path3573" style="fill:#91d2e1;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m458.199 576.973c5.156 11.273.199 24.59-11.07 29.75-11.274 5.156-24.59.199-29.746-11.071-5.16-11.273-.203-24.589 11.066-29.75 11.274-5.156 24.594-.199 29.75 11.071"/><path id="path3575" style="fill:#91d2e1;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m635.691 569.449c-5.234-11.234-.367-24.59 10.868-29.82 11.238-5.234 24.589-.371 29.824 10.867 5.234 11.234.367 24.586-10.867 29.82-11.239 5.235-24.59.372-29.825-10.867"/></g></g></svg></span><span class="text-uppercase font-weight-bold"></span></a></div><div class=ml-auto><button type=button class="navbar-toggler third-button collapsed" data-toggle=collapse data-target=#menu_items aria-expanded=false aria-controls=navbar><div class=animated-icon><span></span><span></span><span></span></div></button></div><div id=menu_items class="navbar-collapse collapse ml-md-auto justify-content-end text-center"><ul class="nav navbar-nav"><li class="nav-item p-0"><a class=nav-link href=../../../><span>Home</span></a></li><li class="nav-item p-0"><a class=nav-link href=../../../blog/><span>Blog</span></a></li><li class="nav-item p-0"><a class=nav-link href=../../../#features><span>Features</span></a></li><li class="nav-item p-0"><a class=nav-link href=../../../#contributing><span>Contribute</span></a></li><li class="nav-item p-0"><a class=nav-link href=../../../docs/><span>Docs</span></a></li><li class="nav-item p-0"><a class=nav-link href=https://github.com/vmware/photon target=_blank><span>Github</span></a></li><div class="navbar-nav dropdown border-0"><li class=nav-item><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Release</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../docs/>v4 - Latest</a>
<a class=dropdown-item href=../../../docs-v3/>v3</a>
<a class=dropdown-item href=../../../assets/files/html/3.0/>v3 (old)</a>
<a class=dropdown-item href=../../../assets/files/html/1.0-2.0/>v2 and v1</a></div></li></div></ul></div></nav></div></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>This the multi-page printable view of this section.
<a href=# onclick="return print(),!1">Click here to print</a>.</p><p><a href=../../../docs/installation-guide/>Return to the regular view of this page</a>.</p></div><h1 class=title>Installation Guide</h1><ul><li>1: <a href=#pg-0039a3f013699dc4f7f1dd4092ce6977>Downloading Photon OS</a></li><li>2: <a href=#pg-8ccac281ee95518faa0eec95576505af>Upgrading to Photon OS 4.0</a></li><li>3: <a href=#pg-91e141c3992b27f53801ceefa4cabedb>Building Images</a></li><ul><li>3.1: <a href=#pg-48a1bd9dec8ba490f9db4f579675d370>Folder Layout</a></li><li>3.2: <a href=#pg-6da699b8cf8e1d34d27dee90fd6a107f>Build Prerequisites</a></li><li>3.3: <a href=#pg-96f1248c47caa7dc91a91ae9a9782fb7>Build an ISO from the Source Code for Photon OS</a></li><ul><li>3.3.1: <a href=#pg-2767fa2c88f55f64c66613697826720c>Building the ISO</a></li></ul><li>3.4: <a href=#pg-b12b25e17fade9fa2411d9dce445271a>Build Other Images for Photon OS</a></li><ul><li>3.4.1: <a href=#pg-62c5b1e7a2b85c2d6cef0f10f3a9712f>Building Cloud Images</a></li><li>3.4.2: <a href=#pg-669b29ad634e5e92dcfff70a9782d2fd>Building OVA image</a></li></ul><li>3.5: <a href=#pg-b6991bcd5348c5d6cc84f11f25b1e69a>Use the Cached Toolchain and RPMS</a></li><li>3.6: <a href=#pg-3683869621c9cc8ea742011cbd44760a>Use Cached Sources</a></li><li>3.7: <a href=#pg-8f2627a45c87f9d5bb9b499554b7b4e4>View Build Logs</a></li></ul><li>4: <a href=#pg-1490f4e78e1199856d0d6e3e29ad521c>Building Package or Kernel Modules Using a Script</a></li><li>5: <a href=#pg-86c81e0066c56399910447073a8c5e26>Running Photon OS on vSphere</a></li><ul><li>5.1: <a href=#pg-0574ffce9e6845b458abaf26dc4a2d18>Prerequisites for Running Photon OS on vSphere</a></li><li>5.2: <a href=#pg-5850c535a4ee04f01d28f929938d0aca>Importing the OVA for Photon OS 4.0</a></li><li>5.3: <a href=#pg-a7dc4fe0a9a00299ac444c39be809ebc>Installing the ISO Image for Photon OS 4.0</a></li></ul><li>6: <a href=#pg-39867b78caa0d199a4aa2df16555fe0d>Running Photon OS on Fusion</a></li><ul><li>6.1: <a href=#pg-46826b92f418128381d32649220f3d3c>Prerequisites for Running Photon OS on Fusion</a></li><li>6.2: <a href=#pg-d727c054277b44a62d85fd9bf15b1513>Importing the OVA for Photon OS 4.0</a></li><li>6.3: <a href=#pg-e11c39697efefcddc432366210d20744>Installing the ISO Image for Photon OS 4.0</a></li></ul><li>7: <a href=#pg-5a7a1ecb093e3902032d62824c159def>Running Photon OS on Workstation</a></li><ul><li>7.1: <a href=#pg-739bea0a866a6cf4a71dd605cf66a49f>Prerequisites for Running Photon OS on Workstation</a></li><li>7.2: <a href=#pg-3d45c79839e9d9488f2251ad6c2dea10>Importing the OVA for Photon OS 4.0</a></li><li>7.3: <a href=#pg-f539c9ffb01773e1b86948893a63693a>Installing the ISO Image for Photon OS 4.0</a></li></ul><li>8: <a href=#pg-535d80257a605affbcfa3cd7f4b405c7>Running Photon OS on Amazon Elastic Cloud Compute</a></li><ul><li>8.1: <a href=#pg-7e44b1d49947e5e0f228af5c2d22a820>Prerequisites for Running Photon OS on AWS EC2</a></li><li>8.2: <a href=#pg-13bdc4e2d439d9398ab01daeeb4bb1ec>Set Up Photon OS on EC2</a></li><li>8.3: <a href=#pg-c217b6cbe163c7d25a8803f7e23c0069>Deploy a Containerized Application in Photon OS</a></li><li>8.4: <a href=#pg-6ee250fdb6cd3aa3b2089a643ebc99a1>Launch the Web Server with Cloud-Init</a></li><li>8.5: <a href=#pg-39b73afa8f1609a442a680b04297799e>Terminate the AMI Instance</a></li></ul><li>9: <a href=#pg-82b942d068e235c58b388388bb1a4e4a>Running Photon OS on Microsoft Azure</a></li><ul><li>9.1: <a href=#pg-ad1b426636b0abebe6331214188cbb7a>Prerequisites for Running Photon OS on Azure</a></li><li>9.2: <a href=#pg-6033e80ea39d7d9d45cd24d672ef58f3>Set Up Azure Storage and Uploading the VHD</a></li><li>9.3: <a href=#pg-9a8d0861f63e4cbd91bcd0136f402e8b>Remove Photon OS From Azure</a></li></ul><li>10: <a href=#pg-afab1e848c12bf1991fdaa11793b3aec>Running Photon OS on Google Compute Engine</a></li><ul><li>10.1: <a href=#pg-550dbc0b52c6260a1bd98c719abf40f2>Prerequisites for Running Photon OS on GCE</a></li><li>10.2: <a href=#pg-05f30b7237da7a556f6587e7eafd1eed>Installing Photon OS on Google Compute Engine</a></li></ul><li>11: <a href=#pg-eedc963d153cd71329bd6ec6858e74e3>Running Photon OS on Raspberry Pi</a></li><ul><li>11.1: <a href=#pg-fd6c69e7b25eaa3c6701cf504027a315>Prerequisites for Running Photon OS on Raspberry Pi</a></li><li>11.2: <a href=#pg-78c035034a5ada974bce4b9c1670954e>Installing Photon OS on Raspberry Pi</a></li><li>11.3: <a href=#pg-f06c107c3d3441cf06142fa7233fa7f9>Enabling Raspberry Pi Interfaces using Device Tree</a></li></ul><li>12: <a href=#pg-801c34aa27a2a7bdc5b108048947dda6>Deploying a Containerized Application in Photon OS</a></li><li>13: <a href=#pg-71272c24f261fdad461dadc21c3eeffb>Compatible Cloud Images</a></li></ul><div class=content><p>The Photon OS <em>Installation Guide</em> provides information about how administrators can install Photon OS.</p><p><strong>Product version: 4.0</strong></p><p>This documentation applies to all 4.0.x releases.</p><h2 id=intended-audiences>Intended Audiences</h2><p>This information is intended for Photon OS administrators who install and set up Photon OS.</p></div></div><div class=td-content><h1 id=pg-0039a3f013699dc4f7f1dd4092ce6977>1 - Downloading Photon OS</h1><p>Detailed instructions for obtaining Photon OS 4.0 are located at: <a href=https://github.com/vmware/photon/wiki/Downloading-Photon-OS>https://github.com/vmware/photon/wiki/Downloading-Photon-OS</a></p><h2 id=download-formats>Download Formats</h2><p>Photon OS is available in the following pre-packaged, binary formats:</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>Format</td><td>Description</td></tr><tr><td><img width=1000 class=px-5></td><td></td></tr><tr><td><a href=https://packages.vmware.com/photon/4.0/GA/iso/>ISO Image</a></td><td>Contains everything needed to install the minimal or full installation of Photon OS or the Real-Time flavor of Photon OS. The bootable ISO has a manual installer or can be used with PXE/kickstart environments for automated installations.</td></tr><tr><td><a href=https://packages.vmware.com/photon/4.0/GA/ova/>OVA</a></td><td>Pre-installed minimal environment, customized for VMware hypervisor environments. These customizations include a highly sanitized and optimized kernel to give improved boot and runtime performance for containers and Linux applications. Since an OVA is a complete virtual machine definition, we&rsquo;ve made available a Photon OS OVA that has virtual hardware version 13 arm64, version 13, and version 11; this will allow for compatibility with several versions of VMware platforms or allow for the latest and greatest virtual hardware enhancements.</td></tr><tr><td><a href=https://packages.vmware.com/photon/4.0/GA/ami/>Amazon AMI</a></td><td>Pre-packaged and tested version of Photon OS with Amazon AMI and Amazon AMI arm64 packages made ready to deploy in your Amazon EC2 cloud environment. Previously, we&rsquo;d published documentation on how to create an Amazon compatible instance, but, now we&rsquo;ve done the work for you.</td></tr><tr><td><a href=https://packages.vmware.com/photon/4.0/GA/gce/>Google GCE Image</a></td><td>Pre-packaged and tested Google GCE image that is ready to deploy in your Google Compute Engine Environment, with all modifications and package requirements for running Photon OS in GCE.</td></tr><tr><td><a href=https://packages.vmware.com/photon/4.0/GA/azure/>Azure VHD</a></td><td>Pre-packaged and tested Azure HD image that is ready to deploy in your Microsoft Azure Cloud, with all modifications and package requirements for running Photon OS in Azure.</td></tr><tr><td><a href=https://packages.vmware.com/photon/4.0/GA/rpi/>Raspberry Pi Image</a></td><td>Pre-packaged and tested Raspberry Pi Image on ARM64 architecture.</td></tr></tbody></table></div><div class=td-content style=page-break-before:always><h1 id=pg-8ccac281ee95518faa0eec95576505af>2 - Upgrading to Photon OS 4.0</h1><p>You can upgrade your existing Photon OS 3.0 VMs to take advantage of the functionality enhancements in Photon OS 4.0. For details, see <a href=../../overview/whats-new/>What&rsquo;s New in Photon OS 4.0</a>.</p><p>Photon OS 4.0 provides a seamless upgrade for Photon OS 3.0 implementations. You simply download an upgrade package, run a script, and reboot the VM. The upgrade script will update your packages and retain your 3.0 customizations in your new OS 4.0 VM.</p><p><strong>Note</strong>: If your 3.0 VM is a full install, then you will have a 4.0 VM that represents a full install (all packages and dependencies). Upgrading a minimal installation takes less time due to fewer packages.</p><p>For each Photon OS 3.0 VM that you want to upgrade, complete the following steps:</p><ol><li><p>Back up all existing settings and data for the Photon OS 3.0 VM.</p></li><li><p>Stop any services (for example, docker) that are currently running in the VM.</p></li><li><p>Install photon-upgrade package</p><pre><code># tdnf -y install photon-upgrade
</code></pre></li><li><p>Run the upgrade script</p><pre><code># photon-upgrade.sh
</code></pre></li><li><p>Answer y to reboot the VM. The upgrade script powers down the Photon OS 3.0 VM and powers it on as a Photon OS 4.0 VM.</p></li></ol><p>After the upgrade, before you deploy into production, test all previous functionality to ensure that everything works as expected.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-91e141c3992b27f53801ceefa4cabedb>3 - Building Images</h1><p>You can build an ISO from the source code and other images for Photon OS. This section describes how to build the ISO, build other images, use the cached toolchain and RPMS, and cached sources. You can use this method as an alternative to downloading a pre-built version.</p><p>For information on how to install and build a package on Photon OS from the package&rsquo;s source RPM, see the <a href=../../administration-guide/photon-os-packages/building-a-package-from-a-source-rpm/>Photon OS Administration Guide</a>.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-48a1bd9dec8ba490f9db4f579675d370>3.1 - Folder Layout</h1><p>The structure of the directories on GitHub that contain the source code for Photon OS is as follows:</p><pre><code>photon/
├── Makefile
├── README
├── Dockerfile
├── Vagrantfile
├── PUBLISHRPMS_SPECS        # RPM SPEC files
├── SPECS                    # RPM SPEC files
├── common                   # Build, packaging config
├── docs                     # Documentation
├── build.py                 # Package builder
├── config.json              # Package builder
├── support                  # Build scripts
└── tools

</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-6da699b8cf8e1d34d27dee90fd6a107f>3.2 - Build Prerequisites</h1><p>Before you build the ISO, verify that you have the performed the following tasks:</p><ul><li><p>Installed a build operating system running the 64-bit version of Ubuntu 14.04 or later version.</p></li><li><p>Downloaded and installed the following packages for Ubuntu:
bison
gawk
g++
createrepo
python-aptdaemon
genisoimage
texinfo
python-requests
libfuse-dev
libssl-dev
uuid-dev
libreadline-dev
kpartx
git
bc</p></li><li><p>Downloaded and installed the following packages for Photon OS:<br>&ldquo;rsync&rdquo;
&ldquo;docker-18.09.9&rdquo;
&ldquo;docker-py3&rdquo;
&ldquo;python3-pyOpenSSL&rdquo;
&ldquo;python3-six&rdquo;
&ldquo;python3-pip&rdquo;
&ldquo;cdrkit&rdquo;
&ldquo;createrepo_c&rdquo;
&ldquo;dosfstools&rdquo;
&ldquo;openssl-devel&rdquo;
&ldquo;python3-curses&rdquo;
&ldquo;zlib-devel&rdquo;
&ldquo;util-linux-devel&rdquo;</p></li><li><p>Installed Docker</p></li><li><p>Downloaded the source code from the Photon OS repository on GitHub into <code>$HOME/workspaces/photon</code>.</p></li></ul></div><div class=td-content style=page-break-before:always><h1 id=pg-96f1248c47caa7dc91a91ae9a9782fb7>3.3 - Build an ISO from the Source Code for Photon OS</h1><p>You can build an ISO from the source code for Photon OS. This section describes how to build the ISO, use the cached toolchain and RPMS, and cached sources. You can use this method as an alternative to downloading a pre-built version.</p><p>For information on how to install and build a package on Photon OS from the package&rsquo;s source RPM, see the <a href=../../../administration-guide/photon-os-packages/building-a-package-from-a-source-rpm/>Photon OS Administration Guide</a>.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-2767fa2c88f55f64c66613697826720c>3.3.1 - Building the ISO</h1><p>Perform the following steps to install the packages on Ubuntu:</p><ol><li><p>Install the packages:</p><pre><code>sudo apt-get -y install bison gawk g++ createrepo python-aptdaemon genisoimage texinfo python-requests libfuse-dev libssl-dev uuid-dev libreadline-dev kpartx git bc
</code></pre></li><li><p>Get Docker:</p><pre><code>wget -qO- https://get.docker.com/ | sh
</code></pre></li><li><p>Install pip and docker 2.3.0</p><pre><code>sudo apt install python3-pip
pip3 install docker==2.3.0
</code></pre><p>If you encounter an error for LOCALE when you run these commands, then export the following variables in the terminal:</p><pre><code>export LC_ALL=&quot;en_US.UTF-8&quot;
export LC_CTYPE=&quot;en_US.UTF-8&quot;
</code></pre></li><li><p>The default configuration parameters are available in config.json. If you want to csutomize them, then the configuration information is available at the following location:</p><pre><code>[https://github.com/vmware/photon/blob/dev/photon-build-config.txt](https://github.com/vmware/photon/blob/dev/photon-build-config.txt)

</code></pre></li><li><p>Clone`the Photon project:</p><p><code>git clone https://github.com/vmware/photon.git</code>
<code>cd $HOME/workspaces/photon</code></p></li><li><p>Make ISO as follows:</p><p><code>sudo make iso</code></p></li><li><p>Make Minimal ISO as follows:</p><p><code>sudo make minimal-iso</code></p></li><li><p>Make Real-Time ISO as follows:</p><p><code>sudo make rt-iso</code></p></li></ol><p><strong>Result</strong></p><p>This command first builds all RPMs corresponding to the SPEC files in your Photon repository and then builds a bootable ISO containing those RPMs.</p><p>The RPMs thus built are stored under <code>stage/RPMS/</code> directory within the repository, using the following directory hierarchy:</p><pre><code>$HOME/workspaces/photon/stage/:
├──RPMS/:
    ├──noarch/*.noarch.rpm    [Architecture-independent RPMs]
    ├──x86_64/*.x86_64.rpm    [RPMs built for the x86-64 architecture]
    ├──aarch64/*.aarch64.rpm  [RPMs built for the aarch64 (ARM64) architecture]
</code></pre><p>The ISO is created at <code>$HOME/workspaces/photon/stage/photon.iso</code>.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-b12b25e17fade9fa2411d9dce445271a>3.4 - Build Other Images for Photon OS</h1><p>This section describes how to build the cloud images, OVA, and RPM.</p><p>For information on how to install and build a package on Photon OS from the package&rsquo;s source RPM, see the <a href=../../administration-guide/photon-os-packages/building-a-package-from-a-source-rpm/>Photon OS Administration Guide</a>.</p></div><div class=td-content><h1 id=pg-62c5b1e7a2b85c2d6cef0f10f3a9712f>3.4.1 - Building Cloud Images</h1><p>Perform the following steps to build the cloud images on Ubuntu:</p><ol><li><p>Install the packages:</p><pre><code>sudo apt-get -y install bison gawk g++ createrepo python-aptdaemon genisoimage texinfo python-requests libfuse-dev libssl-dev uuid-dev libreadline-dev kpartx git bc
</code></pre></li><li><p>Get Docker:</p><pre><code>wget -qO- https://get.docker.com/ | sh
</code></pre></li><li><p>Install pip</p><pre><code>sudo apt install python3-pip
pip3 install git+https://github.com/vmware/photon-os-installer.git
git clone https://github.com/vmware/photon.git
    
    
    
</code></pre></li></ol><p>If you encounter an error for LOCALE when you run these commands, then export the following variables in the terminal:</p><pre><code>   `export LC_ALL=&quot;en_US.UTF-8&quot;`
</code></pre><p><code>export LC_CTYPE="en_US.UTF-8"</code></p><ol start=3><li><p>Clone`the Photon project:</p><p><code>git clone https://github.com/vmware/photon.git</code>
<code>cd $HOME/workspaces/photon</code></p></li><li><p>Make the cloud image for AMI.</p><p><code>sudo make image IMG_NAME=ami</code></p></li><li><p>Make the cloud image for Azure.</p><p><code>sudo make image IMG_NAME=azure</code></p></li><li><p>Make the cloud image for GCE.</p><p><code>sudo make image IMG_NAME=gce</code></p></li></ol><p><strong>Result</strong></p><p>This command first builds all RPMs corresponding to the SPEC files in your Photon repository and then builds a bootable ISO containing those RPMs.</p><p>The RPMs thus built are stored under <code>stage/RPMS/</code> directory within the repository, using the following directory hierarchy:</p><pre><code>$HOME/workspaces/photon/stage/:
├──RPMS/:
    ├──noarch/*.noarch.rpm    [Architecture-independent RPMs]
    ├──x86_64/*.x86_64.rpm    [RPMs built for the x86-64 architecture]
    ├──aarch64/*.aarch64.rpm  [RPMs built for the aarch64 (ARM64) architecture]
</code></pre><p>The cloud image is created at `$HOME/workspaces/photon.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-669b29ad634e5e92dcfff70a9782d2fd>3.4.2 - Building OVA image</h1><p>Perform the following steps to build OVA on Ubuntu:</p><ol><li><p>Install the packages:</p><pre><code>sudo apt-get -y install bison gawk g++ createrepo python-aptdaemon genisoimage texinfo python-requests libfuse-dev libssl-dev uuid-dev libreadline-dev kpartx git bc
</code></pre></li><li><p>Get Docker:</p><pre><code>wget -qO- https://get.docker.com/ | sh
</code></pre></li><li><p>Install pip</p><pre><code>sudo apt install python3-pip
pip3 install git+https://github.com/vmware/photon-os-installer.git
git clone https://github.com/vmware/photon.git
    
    
    
If you encounter an error for LOCALE when you run these commands, then export the following variables in the terminal:
    
    
    export LC_ALL=&quot;en_US.UTF-8&quot;
`export LC_CTYPE=&quot;en_US.UTF-8&quot;`


</code></pre></li><li><p>Clone the Photon project:</p><pre><code>git clone https://github.com/vmware/photon.git
</code></pre><p><code>cd $HOME/workspaces/photon</code></p></li><li><p>Download latest VDDK from below link:</p><p><a href="https://my.vmware.com/web/vmware/downloads/details?downloadGroup=VDDK670&productId=742" title="Link to VMware ovftool site">https://my.vmware.com/web/vmware/downloads/details?downloadGroup=VDDK670&productId=742</a></p></li><li><p>Search for <code>VMware-ovftool</code> in the same site and install it.</p><p>For example:</p><p>ovftool downloaded file:</p><p><code>VMware-ovftool-4.3.0-13981069-lin.x86_64.bundle</code></p><p>Add exec permission and run it as sudo:</p><p><code>$ chmod +x VMware-ovftool-4.3.0-13981069-lin.x86_64.bundle && sudo ./VMware-ovftool-4.3.0-13981069-lin.x86_64.bundle --eulas-agreed --required</code></p></li><li><p>For VDDK, if the downloaded file is <code>VMware-vix-disklib-6.7.0-8173251.x86_64.tar.gz</code>, untar the downloaded tarball:</p><p><code>$ tar xf VMware-vix-disklib-6.7.0-8173251.x86_64.tar.gz</code></p></li><li><p>Navigate to extracted directory.</p></li></ol><ul><li><p>Move the header files to /usr/include</p><p>$ <code>sudo mv include/*.h /usr/include</code></p></li><li><p>Move the shared libs to /usr/lib/vmware
<code>$ sudo mkdir -p /usr/lib/vmware && sudo mv lib64/* /usr/lib/vmware && sudo rm /usr/lib/vmware/libstdc++.so*</code></p></li></ul><ol start=8><li><p>Export /usr/lib/vmware library path(only for current session). Do this step every time you try to build an ova image.</p><p><code>$ export LD_LIBRARY_PATH=/usr/lib/vmware</code></p></li><li><p>Navigate to your intended Photon source repository and run the following command.</p><pre><code>   
`sudo make image IMG_NAME=ova`

</code></pre></li><li><p>Make the image for OVA UEFI</p></li></ol><p><code>sudo make image IMG_NAME=ova_uefi</code></p><p><strong>Result</strong></p><p>This command first builds all RPMs corresponding to the SPEC files in your Photon repository and then builds a bootable ISO containing those RPMs.</p><p>The RPMs thus built are stored under <code>stage/RPMS/</code> directory within the repository, using the following directory hierarchy:</p><pre><code>$HOME/workspaces/photon/stage/:
├──RPMS/:
    ├──noarch/*.noarch.rpm    [Architecture-independent RPMs]
    ├──x86_64/*.x86_64.rpm    [RPMs built for the x86-64 architecture]
    ├──aarch64/*.aarch64.rpm  [RPMs built for the aarch64 (ARM64) architecture]
</code></pre><p>The cloud image is created at `$HOME/workspaces/photon.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-b6991bcd5348c5d6cc84f11f25b1e69a>3.5 - Use the Cached Toolchain and RPMS</h1><p>When the necessary RPMs are available under the <code>stage/RPMS/</code> directory, the commands that you use to create any Photon artifact such as, ISO or OVA will reuse those RPMs to create the specified image.</p><p>If you already have the Photon RPMs available elsewhere, and not under <code>stage/RPMS/</code> in the Photon repository, you can build Photon artifacts using those cached RPMs by setting the <code>PHOTON_CACHE_PATH</code> variable to point to the directory containing those RPMs.</p><p>For example, if your RPMs are located under <code>$HOME/photon-cache/</code>, then use the following command to build an ISO:</p><p><code>sudo make iso PHOTON_CACHE_PATH=$HOME/photon-cache</code></p><p>The <code>$HOME/photon-cache/</code> directory should follow the same structure as the <code>stage/RPMS/</code> directory:</p><pre><code>photon-cache/:
├──RPMS/:
    ├──noarch/*.noarch.rpm
    ├──x86_64/*.x86_64.rpm
    ├──aarch64/*.aarch64.rpm

</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-3683869621c9cc8ea742011cbd44760a>3.6 - Use Cached Sources</h1><p>To use the cached sources, run the following command:</p><pre><code>mkdir $HOME/photon-sources
sudo make iso PHOTON_SOURCES_PATH=$HOME/photon-sources
</code></pre><p>The directory format of <code>PHOTON_SOURCES_PATH</code> is as follows:</p><pre><code>photon-sources/
├──src1.tar.gz
├──src2.tar.gz
└──...
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-8f2627a45c87f9d5bb9b499554b7b4e4>3.7 - View Build Logs</h1><p>You can view build logs at the following location:</p><pre><code>$HOME/workspaces/photon/stage/LOGS
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-1490f4e78e1199856d0d6e3e29ad521c>4 - Building Package or Kernel Modules Using a Script</h1><p>You can use a script to build a single Photon OS package without rebuilding all Photon OS packages. You just need a <code>.spec</code> specification file and sources. You place the sources and the specification files in the same folder and run the <code>build_spec.sh</code> script. The script performs the following steps:</p><ul><li>Creates sandbox using docker.</li><li>Installs build tools and <code>.spec</code> build requirements from the Photon OS repository.</li><li>Runs <code>rpmbuild</code>.</li></ul><p><strong>Result:</strong> You have a native Photon OS RPM package.</p><p>The <code>build-spec.sh</code> script is located in the <code>photon/tools/scripts/</code> folder.</p><ul><li><a href=#prerequisites>Prerequisties</a></li><li><a href=#procedure>Procedure</a></li><li><a href=#example>Example</a></li><li><a href=#build-logs>Build Logs</a></li></ul><h2 id=prerequisites>Prerequisites</h2><p>Before you run the <code>build-spec.sh</code> script, perform the following steps:</p><ul><li>Ensure you have any Linux OS with docker daemon running.</li><li>Place the source and RPM <code>.spec</code> files in the same folder, that is, <code>$WORKDIR</code>.</li></ul><h2 id=procedure>Procedure</h2><p>Run the script. Provide the RPM <code>.spec</code> file name, including absolute or relative path, as argument:</p><pre><code>./photon/tools/scripts/build_spec.sh &lt;$WORKDIR/rpm_spec_file.spec&gt;
</code></pre><p>The RPMs and full build logs are generated in the <code>$WORKDIR/stage</code> folder.</p><h2 id=example>Example</h2><p>The following example runs the script with <code>simple-module.spec</code> as argument, where <code>simple-module.spec</code> is the specification file:</p><pre><code>./photon/tools/scripts/build_spec.sh ~/photon/tools/examples/build_spec/simple-module.spec
</code></pre><p>The following are the contents of the <code>simple-module.spec</code> file:</p><pre><code>Summary:        Simple Linux module
Name:           simple-module
Version:        4.18.9
Release:        5%{?dist}
License:    	GPLv2
Group:        	System Environment/Kernel
Vendor:         VMware, Inc.
Distribution: 	Photon
Source0:        module_example.tar.xz
BuildRequires:  linux-devel = 4.18.9
BuildRequires:  kmod
Requires:       linux = 4.18.9

%description
Example of building linux module for Photon OS

%prep
%setup -q -n module_example

%build
make -C `echo /usr/src/linux-headers-4.18.9*` M=`pwd` VERBOSE=1 modules %{?_smp_mflags}

%install
make -C `echo /usr/src/linux-headers-4.18.9*` M=`pwd` INSTALL_MOD_PATH=%{buildroot} modules_install
# fix permissins to generate non empty debuginfo
find %{buildroot}/lib/modules -name '*.ko' -print0 | xargs -0 chmod u+x

%post
/sbin/depmod -a

%files
%defattr(-,root,root)
/lib/modules/*

</code></pre><h2 id=build-logs>Build Logs</h2><p>The followiing logs indicate the steps that the script performs internally:</p><pre><code>1. Create sandbox
	Use local build template image OK
2. Prepare build environment
	Create source folder OK
	Copy sources from &lt;HOME&gt;/photon/tools/examples/build_spec/simple-module OK
	Install build requirements OK
3. Build
	Run rpmbuild OK
4. Get binaries
	Copy RPMS OK
	Copy SRPMS OK
5. Destroy sandbox
	Stop container OK
	Remove container OK

Build completed. RPMS are in '&lt;HOME&gt;/photon/tools/examples/build_spec/simple-module/stage' folder
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-86c81e0066c56399910447073a8c5e26>5 - Running Photon OS on vSphere</h1><p>You can use Photon OS as a virtual machine within VMware vSphere. You can download Photon OS, as an OVA or ISO file, and install the Photon OS distribution on vSphere. After you install Photon OS, you can deploy a containerized application in Docker with a single command.</p><p><strong>Note</strong>: If you want to upgrade an existing Photon 1.0 VM, see the Upgrade to Photon OS 4.0 section.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-0574ffce9e6845b458abaf26dc4a2d18>5.1 - Prerequisites for Running Photon OS on vSphere</h1><p>Resource requirements and recommendations vary depending on several factors, including the host environment (for example, VMware vSphere and VMware Fusion), the distribution file used (ISO or OVA), and the selected installation settings (for example, full or basic installation).</p><p>Before you use Photon OS within VMware vSphere, perform the following prerequisite tasks:</p><ol><li><p>Verify that you have the following resources:</p><table style=height:170px border=1 width=157 cellspacing=0 cellpadding=10><tbody><tr><td><b>Resource</b></td><td><b>Description</b></td></tr><tr><td>VMware vSphere installed</td><td>VMware web client (v6.5) for ESXi hosts (recommended)<p><b>Note</b>: vSphere 6 and vSphere 5.5 (these clients provide limited support; Not all features are available).</p></td></tr><tr><td>Memory</td><td>ESXi host with 2GB of free RAM (recommended)</td></tr><tr><td>Storage</td><td><b>Minimal Photon install</b>: ESXi host with at least 512MB of free space (minimum); <b>Full Photon install</b>: ESXi host with at least 4GB of free space (minimum); 16GB is recommended; 16GB recommended.</td></tr><tr><td>Distribution File</td><td>Photon OS ISO or OVA file downloaded from [https://packages.vmware.com/photon/](https://packages.vmware.com/photon/).</td></tr></tbody></table><p><strong>Note:</strong> The setup instructions in this guide use VMware vSphere 6 and the vSphere web client.</p></li><li><p>Decide whether to use the OVA or ISO distribution to set up Photon OS.</p><ul><li><strong>OVA import</strong> : Because of the nature of an OVA, you&rsquo;re getting a pre-installed version of Photon OS. You can choose the hardware version you want (OVA with hardware version 13 or 11). The OVA benefits from a simple import process and some kernel tuning for VMware environments. However, because it&rsquo;s a pre-installed version, the set of packages that are installed are predetermined. Any additional packages that you need can be installed using tdnf.</li><li><strong>ISO install</strong> : The ISO, on the other hand, allows for a more complete installation or automated installation via kickstart.</li></ul><p>To get Photon OS up and running quickly, use the OVA.</p></li><li><p>Download Photon OS. Go to the following URL and download the latest release of Photon OS:</p><p><a href=https://packages.vmware.com/photon/>https://packages.vmware.com/photon/</a></p><p>For instructions, see <a href=https://github.com/vmware/photon/wiki/Downloading-Photon-OS>https://github.com/vmware/photon/wiki/Downloading-Photon-OS</a>.</p><p><strong>Note:</strong> For ISO installation, you must upload to a datashare that is attached to the ESXi host, or mount the file share where the ISO resides as a data store.</p></li></ol></div><div class=td-content style=page-break-before:always><h1 id=pg-5850c535a4ee04f01d28f929938d0aca>5.2 - Importing the OVA for Photon OS 4.0</h1><p>Using the OVA is a fast and easy way to create a Photon OS VM on VMware vSphere.</p><p>After you have downloaded the OVA, log in to your vSphere environment and perform the following steps:</p><ol><li><p>Start the Import Process</p><p>From the Actions pull-down menu, choose <strong>Create/Register VM</strong>.</p><p>In the Select creation type window, choose <strong>Deploy a virtual machine from an OVF or OVA file</strong>.</p><p><img src=../../images/vs-iso-new.png alt="Create new virtual machine"></p><p>Choose <strong>Next</strong>.</p></li><li><p>Select the OVA File</p><p>Enter a name for the virtual machine, and select the OVA file.</p><p><img src=../../images/vs-ova-name-selected.png alt="OVA file"></p><p>Choose <strong>Next</strong>.</p></li><li><p>Specify the Target Datastore</p><p>From the Select storage screen, select the target datastore for your VM.</p><p><img src=../../images/vs-ova-storage.png alt="Target datastore"></p><p>Choose <strong>Next</strong>.</p></li><li><p>Accept the License Agreement</p><p>Read through the Photon OS License Agreement, and then choose <strong>I Agree</strong>.</p><p><img src=../../images/vs-ova-license.png alt=License></p><p>Choose <strong>Next</strong>.</p></li><li><p>Select Deployment Options</p><p>Photon OS is provisioned with a maximum disk size. By default, Photon OS uses only the portion of disk space that it needs, usually much less that the entire disk size ( <strong>Thin</strong> client). If you want to pre-allocate the entire disk size (reserving it entirely for Photon OS instead), select <strong>Thick</strong> instead.</p><p><img src=../../images/vs-ova-deployment-options.png alt="Deployment Options"></p><p>Choose <strong>Next</strong>.</p></li><li><p>Verify Deployment Settings</p><p><img src=../../images/vs-ova-settings.png alt="Deployment settings"></p><p>Click <strong>Finish</strong>. vSphere uploads and validates your OVA. Depending on bandwidth, this operation might take a while.</p><p>When finished, vShield powers up a new VM based on your selections.</p></li><li><p>Change Login Settings</p><p><img src=../../images/splashscreen23.png alt="Login prompt"></p><p>After the VM is booted, open the command window. vSphere prompts you to log in.</p><p><strong>Note</strong>: Because of limitations within OVA support on vSphere, it was necessary to specify a default password for the OVA option. However, all Photon OS instances that are created by importing the OVA require an immediate password change upon login. The default account credentials are:</p><pre><code> - Username: ``root``
 - Password: ``changeme``
</code></pre><p>After you provide these credentials, vSphere prompts you to create a new password and type it a second time to verify it.</p><p><strong>Note:</strong> For security, Photon OS forbids common dictionary words for the root password.  </p><p>Once logged in, you will see the shell prompt.</p><p><img src=../../images/vs-ova-login.png alt="Shell prompt"></p><p>Once complete, proceed to <a href=../../deploying-a-containerized-application-in-photon-os/>Deploying a Containerized Application in Photon OS</a>.</p></li><li><p>Export the VM as a Template (Optional)</p><p>Consider converting this imported VM into a template (from the Actions menu, choose <strong>Export</strong> ) so that you have a master Photon OS instance that can be combined with vSphere Guest Customization to enable rapid provisioning of Photon OS instances.</p></li></ol></div><div class=td-content style=page-break-before:always><h1 id=pg-a7dc4fe0a9a00299ac444c39be809ebc>5.3 - Installing the ISO Image for Photon OS 4.0</h1><p>After you download the Photon OS ISO image into a folder of your choice, complete the following steps.</p><ol><li><p>Upload the ISO Image</p><p>Upload the ISO image to a datastore that is attached to the host on which you&rsquo;ll create the Photon OS virtual machine.</p></li><li><p>Create a new VM</p><p>Log in to your vSphere environment. In the Virtual Machines window, choose <strong>Create/Register VM</strong>.</p><p>On the Select creation type screen, select <strong>Create a new virtual machine</strong>.</p><p><img src=../../images/vs-iso-new.png alt="Create new virtual machine"></p><p>Choose <strong>Next</strong>.</p></li><li><p>Configure VM Settings</p><p>Specify a VM name.</p><p><img src=../../images/vs-iso-name.png alt="VM name"></p><p>Specify a guest operating system.</p><ul><li>For Compatibility, select <strong>ESXi 6.7</strong>.</li><li>For Guest OS family, select <strong>Linux</strong>.</li><li>For Guest OS version, select <strong>VMware Photon OS (64-bit)</strong>.</li></ul><p><img src=../../images/guestossettings3.png alt="Guest operating system"></p><p>Choose <strong>Next</strong>.</p></li><li><p>Select the Target Datastore</p><p>Select the datastore where you want to store the VM.</p><p><img src=../../images/storage4.png alt="Target datastore"></p><p>Click <strong>Next</strong>.</p></li><li><p>Customize VM Settings</p><p>Customize the virtual machine settings.</p><p><img src=../../images/settings5.png alt=Settings></p><p>For CD/DVD Drive 1, click the drop-down and select <strong>Datastore ISO file</strong>.</p><p>In the Datastore browser, select the ISO that you want to import.</p><p>Change other settings as applicable.</p><ul><li>The recommended virtual hardware settings for your Photon VM are heavily dependent upon the container load you intend to run within Photon OS – more containers or more intensive containers will require you to adjust these settings for your application load. VMware suggests 2 vCPU, 1024MB memory, 20GB hard disk. Any unwanted devices should be removed. Be sure to mount the Photon OS ISO on the CD/DVD Drive and put a check in the box next to, Connect At Power On.</li><li>If you want to configure a secure boot for the Photon OS VM you created, choose the VM Options tab, expand Boot Options, and select EFI from the firmware drop-down. An EFI boot ensures that the ISO content is signed by VMware and that the entire stack is secure.</li></ul><p>Choose <strong>Next</strong>.</p></li><li><p>Verify VM Settings</p><p>The installer displays a summary of your selected settings.</p><p><img src=../../images/overview6.png alt=Summary></p><p>Click <strong>Finish</strong>. vSphere creates the VM.</p></li><li><p>Power on the VM</p><p>Select the VM and power it on.</p><p><img src=../../images/bootscreen7.png alt="Power on VM"></p><p>When you see the Photon Installer boot menu, press Enter on your keyboard to start installing.</p></li><li><p>Accept the License Agreement</p><p>Read the License Agreement and press the Enter key to accept.</p><p><img src=../../images/license8.png alt="License Agreement"></p></li><li><p>Configure the Partition</p><p>The installer detects one disk, which should be the 16GB volume configured as part of the virtual machine creation. Choose <strong>Auto</strong> to have the installer automatically allocate the partition, or choose <strong>Custom</strong> if you want to configure individual partitions, and then press the Enter key.</p><p><img src=../../images/diskselection9.png alt=Partition></p><p><strong>Note:</strong> If you choose Custom, the installer displays the following screen.</p><p><img src=../../images/manualpartition10.png alt="Custom Partition"></p><p>For each custom partition, choose <strong>Create New</strong> and specify the following information:</p><p><img src=../../images/custompartitionsetting11.png alt="New Partition"></p><p><strong>Size</strong> - Preallocated size of this partition, in MB.</p><p><strong>Type</strong> - One of the following options:</p><ul><li><strong>ext3</strong> - ext3 file system</li><li><strong>ext4</strong> - ext4 file system</li><li><strong>swap</strong> - swap partition</li></ul><p><strong>Mountpoint</strong> - Mount point for this partition.</p><p>Choose <strong>OK</strong> and press the Enter key. When you are done defining custom partitions, choose <strong>Next</strong> and press the Enter key.</p><p>The installer prompts you to confirm that you want to erase the entire disk.</p><p><img src=../../images/erasedisk21.png alt="Erase disk"></p><p>Choose <strong>Yes</strong> and press the Enter key.</p></li><li><p>Select an Installation Option</p><p>After partitioning the disk, the installer prompts you to select an installation option.</p><p><img src=../../images/flavorselection12.png alt="Installation Option"></p><p>Each install option provides a different run-time environment, depending on your requirements.</p><table style=height:170px border=1 cellspacing=0 cellpadding=10><tbody><tr><td><b>Option</b></td><td><b>Description</b></td></tr><tr><td><b>Photon Minimal</b></td><td>Photon Minimum is a very lightweight version of the container host runtime that is best suited for for devices that have limited compute and memory capabilities. There is sufficient packaging and functionality to allow most common operations around modifying existing containers, as well as being a highly performant and full-featured runtime.</p></td></tr><tr><td><b>Photon Developer</b></td><td>Photon Developer includes several additional packages to enhance the authoring and packaging of containerized applications and/or system customization. Use Photon Developer for developing and packaging the application that will be run as a container, as well as authoring the container, itself. For testing and validation purposes, Photon Developer includes all components necessary to run containers.</td></tr><tr><td><b>Photon OSTree Host<b></td><td>This installation profile creates a Photon OS instance that will source its packages from a central rpm-ostree server and continue to have the library and state of packages managed by the definition that is maintained on the central rpm-ostree server.</td></tr><tr><td><b>Photon Real Time<b></td><td>This profile is available only for the x86_64 architecture.</td></tr></tbody></table><p><strong>Note:</strong> The option you choose determines the disk and memory resources required for your installation.</p><p>Select the option you want and press the Enter key.</p></li><li><p>The <strong>Network Configuration</strong> screen appears, select one of the four options to configure your network.</p><p><img src=../../../images/networkconfig13.png alt="Network Configuration"></p><ol><li><p>Choose <strong>Configure network automatically</strong> and select <strong>Next</strong> to configure the network automatically.</p></li><li><p>To configure network automatically with the DHCP hostname, select <strong>Configure network automatically with a DHCP hostname</strong> and select <strong>Next</strong>. Enter the DHCP Hostname and select <strong>Next</strong>.
<img src=../../../images/dhcphostname14.png alt=../images/DHCP_hostname_for_your_system.png></p></li><li><p>To configure the network manually, select <strong>Configure Network manually</strong>. In the window that appears, enter the IP Address, Netmask, Gateway and Nameserver and select <strong>OK</strong>.
<img src=../../../images/Configure_Network_Manually.png alt=../images/Configure_Network_Manually.png></p></li><li><p>If your network interface is directly connected to the VLAN trunk port, choose <strong>YES</strong> on the Configure the network screen. Enter the VLAN ID and select <strong>Next</strong>.
<img src=../../../images/Configure_the_network.png alt="Configure the network">.</p></li></ol></li><li><p>Select the Linux Kernel</p><p>Select a Linux kernel to install.</p><p><img src=../../images/linuxflavor17.png alt="Linux Kernel"></p><ul><li><strong>Hypervisor</strong> optimized means that any components that are not needed for running under a VMware hypervisor have been removed for faster boot times.</li><li><strong>Generic</strong> means that all components are included.</li></ul><p>Choose <strong>Next</strong> and press the Enter key.</p></li><li><p>Specify the Hostname</p><p>The installer prompts you for a hostname and suggest a randomly generated, unique hostname that you can change if you want.</p><p><img src=../../images/hostname18.png alt=Hostname></p><p>Press the Enter key.</p></li><li><p>Specify the System root Password</p><p>The installer prompts you to enter the system root password.</p><p><em>Note: Photon OS will not permit commonly used dictionary words to be set as a root password.</em></p><p><img src=../../images/rootpassword19.png alt="Root password"></p><p>Type a password and press the Enter key.</p><p>The installer prompts you to confirm your root password by typing it a second time.</p><p><img src=../../images/confirmrootpassword20.png alt="Password confirmation"></p><p><strong>Note:</strong> If you have trouble with unintentional repeated characters in the Remote Console, follow VMware KB 196 ( <a href=http://kb.vmware.com/kb/196>http://kb.vmware.com/kb/196</a>) for a setting to apply to the virtual machine.</p><p>Press the <code>Enter</code> key. The installer proceeds to install the software. Installation times will vary based on the system hardware and installation options you selected. Most installations complete in less than one minute.</p></li><li><p>Reboot the VM and Log In</p><p>Once finished, the installer displays a confirmation message (which includes how long it took to install Photon OS) and prompts you to press a key on your keyboard to boot the new VM.</p><p><img src=../../images/installationcomplete22.png alt="Boot VM"></p><p>As the initial boot process begins, the installer displays the Photon splash screen, and then a login prompt.</p><p><img src=../../images/splashscreen23.png alt="Login prompt"></p><p>At the login prompt, type <strong>root</strong> as the username and provide the password chosen during the installation.</p><p><img src=../../images/loginprompt24.png alt=Password></p></li></ol><p>You can now use your container runtime environment and deploy a containerized application.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-39867b78caa0d199a4aa2df16555fe0d>6 - Running Photon OS on Fusion</h1><p>You can use Photon OS as a virtual machine within VMware Fusion. You can download Photon OS, as an OVA or ISO file, and install the Photon OS distribution on Fusion. After you install Photon OS, you can deploy a containerized application in Docker with a single command.</p><p><strong>Note</strong>: If you want to upgrade an existing Photon 1.0 VM, refer to the instructions in the Upgrading to Photon OS 4.0 section.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-46826b92f418128381d32649220f3d3c>6.1 - Prerequisites for Running Photon OS on Fusion</h1><p>Resource requirements and recommendations vary depending on several factors, including the host environment (for example, VMware Fusion and VMware vSphere), the distribution file used (ISO or OVA), and the selected installation settings (for example, full or basic installation).</p><p>Before you use Photon OS within Fusion, perform the following prerequisite tasks:</p><ol><li><p>Verify that you have the following resources:</p><table style=height:170px border=1 width=157 cellspacing=0 cellpadding=10><tbody><tr><td><b>Resource</b></td><td><b>Description</b></td></tr><tr><td>VMware Fusion</td><td>VMware Fusion (v7.0 or higher) must be installed. The latest version is recommended.</td></tr><tr><td>Memory</td><td>2GB of free RAM (recommended)</td></tr><tr><td>Storage</td><td><b>Minimal Photon install</b> : 512MB of free space (minimum); <b>Full Photon install</b> : 4GB of free space (minimum); 8GB recommended.</td></tr><tr><td>Distribution File</td><td>Photon OS ISO or OVA file downloaded from [https://packages.vmware.com/photon/](https://packages.vmware.com/photon/).</td></tr></tbody></table><p><strong>Note:</strong> The setup instructions in this guide use VMware Fusion Professional version 8.5.8, as per the following screenshot.</p><p><img src=../../images/fs-version.png alt="Fusion version"></p></li><li><p>Decide whether to use the OVA or ISO distribution to set up Photon OS.</p><ul><li><strong>OVA import</strong> : Because of the nature of an OVA, you&rsquo;re getting a pre-installed version of Photon OS. You can choose the hardware version you want (OVA with hardware version 13 or 11). The OVA benefits from a simple import process and some kernel tuning for VMware environments. However, because it&rsquo;s a pre-installed version, the set of packages that are installed are predetermined. Any additional packages that you need can be installed using tdnf.</li><li><strong>ISO install</strong> : The ISO, on the other hand, allows for a more complete installation or automated installation via kickstart.</li></ul><p>To get Photon OS up and running quickly, use the OVA.</p></li><li><p>Download Photon OS. Go to the following URL and download the latest release of Photon OS:</p><p><a href=https://packages.vmware.com/photon/>https://packages.vmware.com/photon/</a></p><p>For instructions, see <a href=../../downloading-photon/>Downloading Photon OS</a>.</p></li></ol></div><div class=td-content style=page-break-before:always><h1 id=pg-d727c054277b44a62d85fd9bf15b1513>6.2 - Importing the OVA for Photon OS 4.0</h1><p>Using the OVA is a fast and easy way to create a Photon OS VM on Fusion.</p><p>After you have downloaded the Photon OS OVA image (OVA with Hardware Version 11) into a folder of your choice, open VMware Fusion and perform the following steps:</p><ol><li><p>Start the Import Process</p><p>From the File menu, choose <strong>Import …</strong>. Fusion prompts you to choose an existing virtual machine.</p><p><img src=../../images/fs-ova-import.png alt="Import process"></p><p>Choose the <strong>Choose File …</strong> button to locate and select the Photon OS OVA, then choose <strong>Continue</strong>.</p><p><img src=../../images/fs-ova-selected.png alt="Select OVA "></p></li><li><p>Specify the Name and Storage Location</p><p>Provide the name and storage location for your Photon OS VM, then choose <strong>Save</strong>.</p><p><img src=../../images/fs-ova-name.png alt="Name and storage location"></p><p>Review the Photon OS License Agreement, then choose <strong>Accept</strong> to start the import process.</p><p><img src=../../images/fs-ova-license.png alt=License></p></li><li><p>Configure VM Settings</p><p>After the OVA is imported, Fusion displays a confirmation that the import has completed and a summary of the settings for your Photon OS VM. The following screen shot is an example (your settings may vary).</p><p><img src=../../images/fs-ova-finish.png alt="VM settings"></p><p><strong>Important:</strong> Choose <strong>Customize Settings</strong> to change the operating system (as recognized by the hypervisor) for the newly imported VM.</p><p><img src=../../images/fs-ova-settings.png alt="Custom settings"></p><p>Choose <strong>General</strong>.</p><p>Click the selection box next to <strong>OS</strong>, select <strong>Linux</strong> , and then select <strong>VMware Photon 64-bit</strong>.</p><p><img src=../../images/fs-ova-os.png alt="Operating system"></p><p>Close the settings window. Fusion prompts you to verify that you want to change the operating system.</p><p><img src=../../images/fs-ova-os-confirm.png alt="Confirm settings"></p><p>Click <strong>Change</strong>. Your Photon OS VM is ready to power on.</p></li><li><p>Power on the VM</p><p>Power on the Photon OS VM. Fusion may ask you whether you want to upgrade this VM.</p><p><img src=../../images/fs-ova-upgrade.png alt="Upgrade VM"></p><p>How you respond depends on which hardware version (13 or 11) that you want to use. Upgrade if you need to use devices supported only in hardware version 13. Don&rsquo;t upgrade if you want to be compatible with older tools that are supported in hardware version 11.</p></li><li><p>Update Login Credentials</p><p><img src=../../images/splashscreen23.png alt="Login prompt"></p><p>After the VM is booted, Fusion prompts you to log in.</p><p><strong>Note</strong> : Because of limitations within OVA support on Fusion, it was necessary to specify a default password for the OVA option. However, all Photon OS instances that are created by importing the OVA will require an immediate password change upon login. The default account credentials are:</p><ul><li>Username: <code>root</code></li><li>Password: <code>changeme</code></li></ul><p>After you provide these credentials, Fusion prompts you to create a new password and type it a second time to verify it. For security, Photon OS forbids common dictionary words for the root password. Once logged in, you will see the shell prompt.</p></li></ol><p>Once complete, proceed to <a href=../../deploying-a-containerized-application-in-photon-os/>Deploying a Containerized Application in Photon OS</a>.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-e11c39697efefcddc432366210d20744>6.3 - Installing the ISO Image for Photon OS 4.0</h1><p>After you have downloaded the latest Photon OS ISO image into a folder of your choice, open VMware Fusion.</p><ol><li><p>Start the Installation Process</p><p>From the File menu, choose <strong>New</strong>.</p><p><img src=../../images/fs-iso-new.png alt=Installation></p><p>From the Select the Installation Method dialog, select <strong>Install from disc or image</strong>, and then choose <strong>Continue</strong>.</p><p><img src=../../images/fs-iso-new-prompt.png alt="Installation method"></p></li><li><p>Select the ISO Image</p><p>Drag a disc image onto the window or choose <strong>Use another disc or disc image&mldr;</strong>, choose the ISO file you want, and then choose <strong>Continue</strong>.</p><p><img src=../../images/fs-iso-new-selected.png alt="ISO image"></p></li><li><p>Select the Operating System</p><p>On the Choose Operating System dialog, select <strong>Linux</strong> in the left-hand column and <strong>VMware Photon 64-bit</strong> in the right-hand column.</p><p><img src=../../images/fs-iso-os.png alt="Operating system"></p><p>Choose <strong>Continue</strong>.</p></li><li><p>Select the Virtual Disk (Optional)</p><p>If you are using a Fusion version that is older than Fusion 8, you might see the following dialog.</p><p><img src=../../images/fs-iso-virtual-disk.png alt="Virtual disk"></p><p>If you see this dialog, unless you&rsquo;re installing into an existing machine, choose <strong>Create a new virtual disk</strong> from the Choose a Virtual Disk dialog, and then choose <strong>Continue</strong>.</p><p><strong>Note:</strong> Fusion v8 and later automatically defaults to creating a new 8GB disk and formats it automatically. If you want to use an existing disk, or if you want to pre-allocate all 8GB, go into VM Settings, choose <strong>Add Device</strong>, and choose either <strong>New Hard Disk</strong> or <strong>Existing Hard Disk</strong>. Expand <strong>Advanced options</strong> and configure whether you want to pre-allocate disk space (disabled by default) or split into multiple files (enabled by default).</p></li><li><p>Configure VM Settings</p><p><strong>Important:</strong> Before you finish creating the Photon OS Virtual Machine, we strongly recommend that you customize the virtual machine and remove any unwanted devices that are not needed for a container run-time environment.</p><p><img src=../../images/fs-iso-finish.png alt="VM settings"></p><p>To remove unnecessary devices, choose <strong>Customize Settings</strong>.</p><p>First, choose a name for your Virtual Machine, along with the folder into which you create the Virtual Machine (or accept the default folder).</p><p><img src=../../images/fs-iso-name.png alt="Custom settings"></p><p>Choose <strong>Save</strong>. The virtual machine will be created. The Settings screen allows you to customize virtual hardware for the new virtual machine. If it does not automatically appear, open <strong>Settings</strong> from the Virtual Machine menu bar.</p><p><img src=../../images/fs-iso-settings.png alt=Settings></p><p>You can remove (recommended) the following components that are not used by Photon OS:</p><ul><li>Select <strong>Display</strong> and ensure that the <strong>Accelerate 3D Graphics</strong> option is unchecked (it should be unchecked, by default). Select <strong>Show All</strong> to return to the VM Settings.</li><li>Select <strong>CD/DVD (IDE)</strong> and ensure that the <strong>Connect CD/DVD Drive</strong> box is checked (it should be checked by default). Select <strong>Show All</strong> to return to the VM Settings.</li><li>Select <strong>Sound Card</strong>, un-check the <strong>Connect Sound Card</strong> Option, and click <strong>Remove Sound Card.</strong> Choose <strong>Remove</strong> to confirm your action. Select <strong>Show All</strong> to return to the VM Settings.</li><li>Select <strong>USB & Bluetooth</strong> and uncheck the <strong>Share Bluetooth devices with Linux</strong> setting. Select <strong>Show All</strong> to return to the VM Settings.</li><li>Select <strong>Printer</strong> and press the <strong>Remove Printer Port</strong> button in the bottom left hand corner. Choose <strong>Remove</strong> to confirm your action. Select <strong>Show All</strong> to return to the VM Settings.</li><li>Select <strong>Camera</strong> and press the <strong>Remove Camera</strong> button in the bottom left hand corner. Choose <strong>Remove</strong> to confirm your action. Select <strong>Show All</strong> to return to the VM Settings.</li><li>Select <strong>Advanced</strong> and ensure that the <strong>Pass Power Status to VM</strong> option is unchecked (it should be unchecked, by default). Select <strong>Show All,</strong> but do not close the VM Settings window.</li></ul><p>By default, Photon OS is configured with a disk size of 8GB. However, Photon OS uses only the portion of disk space it needs, usually much less that the entire disk size. If you want to pre-allocate the entire disk size (reserving it entirely for Photon OS instead), select <strong>Hard Disk</strong>, expand <strong>Advanced options</strong>, and check <strong>Pre-allocate disk space</strong> (by default, it is unchecked). Select <strong>Show All</strong> to return to the VM Settings.</p></li><li><p>Configure a Secure Boot (Optional)</p><p><strong>Note:</strong> If you want to configure a secure boot for the Photon OS VM you created, edit its .vmx file and add the following line:</p><p><strong>firmware = &ldquo;efi&rdquo;</strong></p><p>The EFI boot ensures that the ISO content is signed by VMware and that the entire stack is secure.</p><p>After you have made the customizations you want, close the Virtual Machine Settings window. You are now ready to boot and begin the installation process.</p></li><li><p>Power On the VM</p><p>Return to the Fusion main menu, select the Photon OS Virtual Machine, and click <strong>Start Up</strong> (you can also choose <strong>Start Up</strong> from the Virtual Machine menu).</p><p>Fusion powers on the host and starts the installation. Within a few seconds, Fusion displays the Photon OS installer boot menu.</p><p><img src=../../images/bootscreen7.png alt="Photon OS installer"></p><p>Press the Enter key on your keyboard to start installing.</p><p><img src=../../images/license8.png alt=License></p><p>Read the License Agreement and press the Enter key to accept.</p></li><li><p>Configure the Partition</p><p>The Installer will detect one disk, which should be the 8GB volume configured as part of the virtual machine creation.</p><p><img src=../../images/diskselection9.png alt=Partition></p><p>Choose <strong>Auto</strong> to have the installer automatically allocate the partition, or choose <strong>Custom</strong> if you want to configure individual partitions, and then press the Enter key.</p><p><strong>Note:</strong> If you choose <strong>Custom</strong>, the installer displays the following screen.</p><p><img src=../../images/manualpartition10.png alt="Custom partition"></p><p>For each custom partition, choose <strong>Create New</strong> and specify the following information:</p><p><img src=../../images/custompartitionsetting11.png alt="New partition"></p><p><strong>Size</strong> - Preallocated size of this partition, in MB.</p><p><strong>Type</strong> - One of the following options:</p><ul><li><strong>ext3</strong> - ext3 file system</li><li><strong>ext4</strong> - ext4 file system</li><li><strong>swap</strong> - swap partition</li></ul><p><strong>Mountpoint</strong> - Mount point for this partition.</p><p>Choose <strong>OK</strong> and press the Enter key. When you are done defining custom partitions, choose <strong>Next</strong> and press the Enter key.</p><p>The installer prompts you to confirm that you want to erase the entire disk.</p><p><img src=../../images/erasedisk21.png alt="Disk erase"></p><p>Choose <strong>Yes</strong> and press the Enter key to accept and proceed with the installation.</p></li><li><p>Select an Installation Option</p><p>After partitioning, the installer prompts you to select one of three installation options:</p><p><img src=../../images/flavorselection12.png alt="Installation options"></p><p>Each install option provides a different run-time environment. Select the option that best meets your requirements.</p><table style=height:170px border=1 cellspacing=0 cellpadding=10><tbody><tr><td><b>Option</b></td><td><b>Description</b></td></tr><tr><td><b>Photon Minimal</b></td><td>Photon Minimum is a very lightweight version of the container host runtime that is best suited for container management and hosting. There is sufficient packaging and functionality to allow most common operations around modifying existing containers, as well as being a highly performant and full-featured runtime.</p></td></tr><tr><td><b>Photon Full</b></td><td>Photon Full includes several additional packages to enhance the authoring and packaging of containerized applications and/or system customization. For simply running containers, Photon Full will be overkill. Use Photon Full for developing and packaging the application that will be run as a container, as well as authoring the container, itself. For testing and validation purposes, Photon Full will include all components necessary to run containers.</td></tr><tr><td><b>Photon OSTree Server<b></td><td>This installation profile will create the server instance that will host the filesystem tree and managed definitions for rpm-ostree managed hosts created with the "Photon OSTree Host" installation profile. Most environments should need only one Photon OSTree Server instance to manage the state of the Photon OSTree Hosts. Use Photon OSTree Server when you are establishing a new repository and management node for Photon OS hosts.</td></tr></tbody></table><p><strong>Note:</strong> The option you choose determines the disk and memory resources required for your installation.</p><p>Select the option you want and press the Enter key.</p></li><li><p>The <strong>Network Configuration</strong> screen appears, select one of the four options to configure your network.
<img src=../../../images/networkconfig13.png alt="Network Sonfiguration"></p><ol><li><p>Choose <strong>Configure network automatically</strong> and select <strong>Next</strong> to configure the network automatically.</p></li><li><p>To configure network automatically with the DHCP hostname, select <strong>Configure network automatically with a DHCP hostname</strong> and select <strong>Next</strong>. Enter the DHCP Hostname and select <strong>Next</strong>.
<img src=../../../images/dhcphostname14.png alt=../images/DHCP_hostname_for_your_system.png></p></li><li><p>To configure the network manually, select <strong>Configure Network manually</strong>. In the window that appears, enter the IP Address, Netmask, Gateway and Nameserver and select <strong>OK</strong>.
<img src=../../../images/Configure_Network_Manually.png alt=../images/Configure_Network_Manually.png></p></li><li><p>If your network interface is directly connected to the VLAN trunk port, choose <strong>YES</strong> on the Configure the network screen. Enter the VLAN ID and select <strong>Next</strong>.
<img src=../images/Configure_the_network.png alt="Configure the network">.</p></li></ol></li><li><p>Select the Linux Kernel</p><p>The installer prompts you to select the Linux kernel to install:</p><p><img src=../../images/linuxflavor17.png alt="Linux kernel"></p><ul><li><strong>Hypervisor optimized</strong> means that any components that are not needed for running under a VMware hypervisor have been removed for faster boot times.</li><li><strong>Generic</strong> means that all components are included.</li></ul></li><li><p>Specify the Hostname</p><p>The installer prompts you for a hostname and suggest a randomly generated, unique hostname that you can change if you want.</p><p><img src=../../images/hostname18.png alt=Hostname></p><p>Press the Enter key.</p></li><li><p>Specify the System root Password</p><p><em>Note: Photon OS will not permit commonly used dictionary words to be set as a root password.</em></p><p>The installer prompts you to enter the system root password. Type the password, and then press the Enter key.</p><p><img src=../../images/rootpassword19.png alt=Password></p><p>Confirm the root password by typing it a second time.</p><p><img src=../../images/confirmrootpassword20.png alt="Password confirmation"></p><p>Press the Enter key. The installer proceeds to install the software. Installation times will vary based on the system hardware and installation options you selected. Most installations complete in less than one minute.</p><p>Once finished, the installer displays a confirmation message (which includes how long it took to install Photon OS) and prompts you to press a key on your keyboard to boot the new VM.</p><p><img src=../../images/installationcomplete22.png alt=Confirmation></p></li><li><p>Reboot the VM and Log In</p><p>Press any key on the keyboard and the virtual machine will reboot into Photon OS.</p><p><img src=../../images/splashscreen23.png alt=Reboot></p><p>As the initial boot process begins, the installer displays the Photon splash screen, and then a login prompt.</p><p>At the login prompt, enter <strong>root</strong> as the username and provide the password chosen during the installation.</p><p><img src=../../images/loginprompt24.png alt=Password></p></li></ol><p>You can now use your container runtime environment and deploy a containerized application.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-5a7a1ecb093e3902032d62824c159def>7 - Running Photon OS on Workstation</h1><p>You can use Photon OS as a virtual machine within VMware Workstation. You can download Photon OS, as an OVA or ISO file, and install the Photon OS distribution on vSphere. After you install Photon OS, you can deploy a containerized application in Docker with a single command.</p><p><strong>Note</strong>: If you want to upgrade an existing Photon 1.0 VM, refer to the instructions in the Upgrading to Photon OS 4.0 section.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-739bea0a866a6cf4a71dd605cf66a49f>7.1 - Prerequisites for Running Photon OS on Workstation</h1><p>Before you use Photon OS within Workstation, perform the following prerequisite tasks:</p><ol><li><p>Verify that you have the following resources:</p><table style=height:170px border=1 width=auto cellspacing=0 cellpadding=10><tbody><tr><td><b>Resource</b></td><td><b>Description</b></td></tr><tr><td>VMware Workstation</td><td>VMware Workstation must be installed (Workstation 10 or higher). The latest version is recommended.</p></td></tr><tr><td>Memory</td><td>2GB of free RAM (recommended)</td></tr><tr><td>Storage</td><td><b>Minimal Photon install</b>: 512MB of free space (minimum); <b>Full Photon install</b>: 4GB of free space (minimum); 8GB is recommended.</td></tr><tr><td>Distribution File</td><td>Photon OS ISO or OVA file downloaded from VMware (<a href=https://packages.vmware.com/photon/4.0/GA/>https://packages.vmware.com/photon/4.0/GA/</a>).</td></tr></tbody></table></br><p>Resource requirements and recommendations vary depending on several factors, including the host environment (for example, VMware Workstation and VMware vSphere), the distribution file used (ISO or OVA), and the selected installation settings (for example, full or basic installation).</p><p><strong>Note:</strong> The setup instructions in this guide use VMware Workstation Professional version 12.5.7.</p><p><img src=../../images/ws_version.png alt="Workstation version"></p></li><li><p>Decide whether to use the OVA or ISO distribution to set up Photon OS.</p></li></ol><ul><li><p><strong>OVA import</strong> : Because of the nature of an OVA, you&rsquo;re getting a pre-installed version of Photon OS. You can choose the hardware version you want (OVA with hardware version 13 or 11). The OVA benefits from a simple import process and some kernel tuning for VMware environments. However, because it&rsquo;s a pre-installed version, the set of packages that are installed are predetermined. Any additional packages that you need can be installed using tdnf.</p></li><li><p><strong>ISO install</strong> : The ISO, on the other hand, allows for a more complete installation or automated installation via kickstart.</p></li></ul><p>To get Photon OS up and running quickly, use the OVA.</p><ol><li><p>Download Photon OS. Go to the following URL and download the latest release of Photon OS:</p><p><a href=https://packages.vmware.com/photon/4.0/GA/>https://packages.vmware.com/photon/4.0/GA/</a></p><p>For instructions, see <a href=../../downloading-photon/>Downloading Photon OS</a>.</p></li></ol></div><div class=td-content style=page-break-before:always><h1 id=pg-3d45c79839e9d9488f2251ad6c2dea10>7.2 - Importing the OVA for Photon OS 4.0</h1><p>Using the OVA is the easiest way to create a Photon OS VM on VMware Workstation.</p><p>After you have downloaded the the OVA file (OVA with Hardware Version 11), perform the following steps:</p><ol><li><p>Start the Import Process</p><ul><li>Double-click it to start the import process, or</li><li>Start VMware Workstation and, from the File menu, choose <strong>Open</strong>.</li></ul><p><img src=../../images/ws-ova-import.png alt="OVA file"></p></li><li><p>Specify the Name and Storage Location</p><p>Change the name and storage location, if you want.</p><p><img src=../../images/ws-ova-path.png alt="Name and Storage Location"></p><p>Choose <strong>Import</strong>.</p><p><img src=../../images/ws-ova-license.png alt=License></p><p>Review the License Agreement and choose <strong>Accept</strong>.</p></li><li><p>Configure VM Settings</p><p>Once the OVA is imported, Workstation displays a summary of the settings for your Photon OS VM.</p><p><img src=../../images/ws-ova-settings.png alt=Settings></p><p>Choose <strong>Edit virtual machine settings</strong>. Workstation displays the Virtual Machine settings. You can either accept the defaults or change settings as needed.</p><p><img src=../../images/ws-ova-settings-edit.png alt="OVA settings"></p><p>Select the Options tab.</p><p><img src=../../images/ws-ova-settings-options.png alt=Options></p><p>Under Guest operating system, select <strong>Linux</strong>.</p><p>For Version, click the list and select <strong>VMWare Photon 64-bit</strong>.</p><p><img src=../../images/ws-ova-os.png alt=Version></p><p><strong>Note:</strong> If you want to configure a secure boot for the Photon OS VM, select <strong>Advanced</strong> and select (check) <strong>Boot with EFI instead of BIOS</strong>. The EFI boot ensures that the ISO content is signed by VMware and that the entire stack is secure.</p><p><img src=../../images/ws-ova-settings-efi.png alt="EFI boot"></p><p>Choose <strong>OK</strong>.</p></li><li><p>Power on the VM</p><p>From the tab, choose <strong>Power on this virtual machine</strong>.</p><p><img src=../../images/splashscreen23.png alt="Login prompt"></p><p>After the splash screen, Workstation will prompt you to log in.</p></li><li><p>Update Login Credentials</p><p><strong>Note</strong> : Because of limitations within OVA support on Workstation, it was necessary to specify a default password for the OVA option. However, all Photon OS instances that are created by importing the OVA will require an immediate password change upon login. The default account credentials are:</p><ul><li>Username: <code>root</code></li><li>Password: <code>changeme</code></li></ul><p>After you provide these credentials, Workstation prompts you to create a new password and type it a second time to verify it. For security, Photon OS forbids common dictionary words for the root password. Once logged in, you will see the shell prompt.</p><p>Once complete, proceed to <a href=../../deploying-a-containerized-application-in-photon-os/>Deploying a Containerized Application in Photon OS</a>.</p></li></ol></div><div class=td-content style=page-break-before:always><h1 id=pg-f539c9ffb01773e1b86948893a63693a>7.3 - Installing the ISO Image for Photon OS 4.0</h1><p>After you have downloaded the latest Photon OS ISO image into a folder of your choice, open VMware Workstation.</p><ol><li><p>Start the Installation Process</p><p>From the File menu, choose <strong>New Virtual Machine</strong> to create a new virtual machine.</p><p><img src=../../images/ws-iso-new.png alt="New virtural machine"></p><p>Select <strong>Typical</strong> or <strong>Custom</strong>, and then choose <strong>Next</strong>. These instructions refer to a Typical installation.</p><p><img src=../../images/ws-iso-typical.png alt="Typical installation"></p></li><li><p>Select the ISO Image</p><p>Select <strong>Installer disc image file (iso)</strong>, choose <strong>Browse</strong> and select the Photon OS ISO file.</p><p><img src=../../images/ws-iso-selected.png alt="Photon ISO file"></p></li><li><p>Select the Operating System</p><p>Choose <strong>Next</strong>. Select the Guest operating system.</p><p>For the Guest operating system, select <strong>Linux</strong>.</p><p>Click the Version dropdown and select <strong>VMware Photon 64-bit</strong> from the list.</p><p><img src=../../images/ws-iso-os.png alt="Operating System"></p></li><li><p>Specify the VM Name and Location</p><p>Choose <strong>Next</strong>. Specify a virtual machine name and location.</p><p><img src=../../images/ws-iso-name.png alt="VM Name and Location"></p></li><li><p>Specify Disk Options</p><p>Choose <strong>Next</strong>. Specify the maximum disk size and whether you want to split the virtual disk into multiple files or store it as a single file.</p><p><img src=../../images/ws-iso-disk.png alt="Disk options"></p></li><li><p>Configure VM Settings</p><p>Choose <strong>Next</strong>. Workstation displays a summary of your selections.</p><p><img src=../../images/ws-iso-summary.png alt="Workstation settings"></p><p><strong>Important</strong> : <em>Before</em> you finish creating the Photon OS Virtual Machine, we strongly recommend that you customize the virtual machine and remove any unwanted devices that are not needed for a container run-time environment. To remove unnecessary devices, choose <strong>Customize hardware</strong>.</p><p><img src=../../images/ws-iso-customize.png alt="Customize hardware"></p><p>Consider removing the following components, which are not used by Photon OS:</p><ul><li>Select <strong>Sound Card</strong>, un-tick the <strong>Connect at power on</strong> option. Confirm your action and choose <strong>Close</strong> to return to the VM Settings by .</li><li>Select <strong>USB Controller</strong> and ensure that the <strong>Share Bluetooth devices with the virtual machine</strong> setting is unchecked (it should be unchecked, by default) and then choose <strong>Close</strong>.</li><li>Select <strong>Display</strong> and ensure that the <strong>Accelerate 3D Graphics</strong> option is unchecked (it should be unchecked, by default) and then choose <strong>Close</strong>.</li><li>At this stage we have now made all the necessary customizations and you are ready to select the Photon OS ISO image to boot and begin the installation process.</li><li>Choose <strong>Finish</strong>.</li></ul><p>In Workstation, choose <strong>Edit virtual machine settings</strong>, select <strong>CD/DVD (IDE)</strong>, and verify that <strong>Connect at power on</strong> is selected.</p><p><img src=../../images/ws-iso-cd.png alt=CD/DVD></p></li><li><p>Configure a Secure Boot (Optional)</p><p><strong>Note:</strong> If you want to configure a secure boot for the Photon OS VM, in Workstation, choose <strong>Edit virtual machine settings</strong>, select <strong>Options</strong>, choose <strong>Advanced</strong>, and select <strong>Boot with EFI instead of BIOS</strong>.</p><p><img src=../../images/ws-iso-efi.png alt="Boot with EFI"></p><p>The EFI boot ensures that the ISO content is signed by VMware and that the entire stack is secure.</p><p>Choose <strong>OK</strong>.</p><p><img src=../../images/ws-iso-settings.png alt="ISO settings"></p></li><li><p>Power On the VM</p><p>Choose <strong>Power on this virtual machine</strong>.</p><p>When you see the Photon Installer boot menu, press Enter on your keyboard to start installing.</p><p><img src=../../images/bootscreen7.png alt=Installer></p><p>Review the license agreement.</p><p><img src=../../images/license8.png alt="License agreement"></p><p>Choose <strong>Accept</strong> and press Enter.</p></li><li><p>Configure the Partition</p><p>The installer will detect one disk, which should be the 8GB volume configured as part of the virtual machine creation. Choose <strong>Auto</strong> to have the installer automatically allocate the partition, or choose <strong>Custom</strong> if you want to configure individual partitions, and then press the Enter key.</p><p><img src=../../images/diskselection9.png alt=Partition></p><p><strong>Note:</strong> If you choose Custom, the installer displays the following screen.</p><p><img src=../../images/manualpartition10.png alt="Custom Partition"></p><p>For each custom partition, choose <strong>Create New</strong> and specify the following information:</p><p><img src=../../images/custompartitionsetting11.png alt="New Partition"></p><p><strong>Size</strong> - Preallocated size of this partition, in MB.</p><p><strong>Type</strong> - One of the following options:</p><ul><li><strong>ext3</strong> - ext3 file system</li><li><strong>ext4</strong> - ext4 file system</li><li><strong>swap</strong> - swap partition</li></ul><p><strong>Mountpoint</strong> - Mount point for this partition.</p><p>Choose <strong>OK</strong> and press the Enter key. When you are done defining custom partitions, choose <strong>Next</strong> and press the Enter key.</p><p>The installer prompts you to confirm that you want to erase the entire disk. Choose <strong>Yes</strong> and press the Enter key.</p><p><img src=../../images/erasedisk21.png alt="Erase disk"></p></li><li><p>Select an Installation Option</p><p>After partitioning the disk, the installer will prompt you to select an installation option.</p><p><img src=../../images/flavorselection12.png alt="Installation Option"></p><p>Each installation option provides a different run-time environment, depending on your requirements.</p><table style=height:170px border=1 cellspacing=0 cellpadding=10><tbody><tr><td><b>Option</b></td><td><b>Description</b></td></tr><tr><td><b>Photon Minimal</b></td><td>Photon Minimum is a very lightweight version of the container host runtime that is best suited for container management and hosting. There is sufficient packaging and functionality to allow most common operations around modifying existing containers, as well as being a highly performant and full-featured runtime.</p></td></tr><tr><td><b>Photon Full</b></td><td>Photon Full includes several additional packages to enhance the authoring and packaging of containerized applications and/or system customization. For simply running containers, Photon Full will be overkill. Use Photon Full for developing and packaging the application that will be run as a container, as well as authoring the container, itself. For testing and validation purposes, Photon Full will include all components necessary to run containers.</td></tr><tr><td><b>Photon OSTree Server<b></td><td>This installation profile will create the server instance that will host the filesystem tree and managed definitions for rpm-ostree managed hosts created with the "Photon OSTree Host" installation profile. Most environments should need only one Photon OSTree Server instance to manage the state of the Photon OSTree Hosts. Use Photon OSTree Server when you are establishing a new repository and management node for Photon OS hosts.</td></tr></tbody></table><p><strong>Note:</strong> The option you choose determines the disk and memory resources required for your installation.</p><p>Select the option you want and press the Enter key.</p></li><li><p>The <strong>Network Configuration</strong> screen appears, select one of the four options to configure your network.
<img src=../../../images/networkconfig13.png alt="Network Sonfiguration"></p><ol><li><p>Choose <strong>Configure network automatically</strong> and select <strong>Next</strong> to configure the network automatically.</p></li><li><p>To configure network automatically with the DHCP hostname, select <strong>Configure network automatically with a DHCP hostname</strong> and select <strong>Next</strong>. Enter the DHCP Hostname and select <strong>Next</strong>.
<img src=../../../images/dhcphostname14.png alt=../images/DHCP_hostname_for_your_system.png></p></li><li><p>To configure the network manually, select <strong>Configure Network manually</strong>. In the window that appears, enter the IP Address, Netmask, Gateway and Nameserver and select <strong>OK</strong>.
<img src=../../../images/Configure_Network_Manually.png alt=../images/Configure_Network_Manually.png></p></li><li><p>If your network interface is directly connected to the VLAN trunk port, choose <strong>YES</strong> on the Configure the network screen. Enter the VLAN ID and select <strong>Next</strong>.
<img src=../../../images/Configure_the_network.png alt="Configure the network">.</p></li></ol></li><li><p>Select the Linux Kernel</p><p>Select a Linux kernel to install.</p><p><img src=../../images/linuxflavor17.png alt="Linux Kernel"></p><ul><li><strong>Hypervisor optimized</strong> means that any components that are not needed for running under a VMware hypervisor have been removed for faster boot times.</li><li><strong>Generic</strong> means that all components are included.</li></ul><p>Choose <strong>Next</strong> and press the Enter key.</p></li><li><p>Specify the Hostname</p><p>The installer prompts you for a hostname and suggest a randomly generated, unique hostname that you can change if you want.</p><p><img src=../../images/hostname18.png alt=Hostname></p><p>Press the Enter key.</p></li><li><p>Specify the System root Password</p><p><strong><em>Note</em></strong> <em>: Photon OS will not permit commonly used dictionary words to be set as a root password.</em></p><p>The installer prompts you to enter the system root password. Type the password and press the Enter key.</p><p><img src=../../images/rootpassword19.png alt="Root password"></p><p>The installer prompts you to confirm the root password by typing it a second time.</p><p><img src=../../images/confirmrootpassword20.png alt="Password confirmation"></p><p>Press the Enter key. The installer proceeds to install the software. Installation times will vary based on the system hardware and installation options you selected. Most installations complete in less than one minute.</p></li><li><p>Reboot the VM and Log In</p><p>Once finished, the installer displays a confirmation message (which includes how long it took to install Photon OS) and prompts you to press a key on your keyboard to boot the new VM.</p><p><img src=../../images/installationcomplete22.png alt="Boot VM"></p><p>Press any key on the keyboard and the virtual machine will reboot into Photon OS.</p><p>As the initial boot process begins, the installer displays the Photon splash screen, and then a login prompt.</p><p><img src=../../images/splashscreen23.png alt="Login prompt"></p><p>At the login prompt, type <strong>root</strong> as the username and provide the password chosen during the installation.</p><p><img src=../../images/loginprompt24.png alt=Password></p></li></ol><p>You can now use your container runtime environment and deploy a containerized application.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-535d80257a605affbcfa3cd7f4b405c7>8 - Running Photon OS on Amazon Elastic Cloud Compute</h1><p>You can set up Photon OS on Amazon Web Services Elastic Cloud Compute (EC2), customize it with cloud-init, connect to it with SSH.</p><p>After you set up Photon OS, you can run a containerized application.</p></div><div class=td-content><h1 id=pg-7e44b1d49947e5e0f228af5c2d22a820>8.1 - Prerequisites for Running Photon OS on AWS EC2</h1><p>Before you use Photon OS with Amazon Elastic Cloud Compute(AWS EC2), perform the following prerequisite tasks:</p><ol><li><p>Verify that you have the following resources:</p><ul><li><strong>AWS account</strong>. Working with EC2 requires an Amazon account for AWS with valid payment information. Keep in mind that, if you try the examples in this document, you will be charged by Amazon. See <a href=http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/get-set-up-for-amazon-ec2.html>Setting Up with Amazon EC2</a>.</li><li><strong>Amazon tools</strong>. The following examples also assume that you have installed and configured the Amazon AWS CLI and the EC2 CLI and AMI tools, including ec2-ami-tools.</li></ul><p>For more information, see <a href=http://docs.aws.amazon.com/cli/latest/userguide/installing.html>Installing the AWS Command Line Interface</a>, <a href=http://docs.aws.amazon.com/AWSEC2/latest/CommandLineReference/set-up-ec2-cli-linux.html>Setting Up the Amazon EC2 Command Line Interface Tools on Linux</a>, and <a href=http://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html>Configuring AWS Command-Line Interface</a>. Also see <a href=http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/set-up-ami-tools.html>Setting Up the AMI Tools</a>.</p><p>The procedure in this section uses an Ubuntu 14.04 workstation to generate the keys and certificates that AWS requires.</p></li><li><p>Download the Photon OS image for Amazon.</p><p>VMware packages Photon OS as a cloud-ready Amazon machine image (AMI) that you can download for free from <a href=https://packages.vmware.com/photon/>https://packages.vmware.com/photon/</a>.</p><p>Download the Photon OS AMI and save it on your workstation. For more infromation, see <a href=../../downloading-photon/>Downloading Photon OS</a>.</p><p><strong>Note</strong>: The AMI version of Photon is a virtual appliance with the information and packages that Amazon needs to launch an instance of Photon in the cloud. To build the AMI version, VMware starts with the minimal version of Photon OS and adds the sudo and tar packages to it.</p></li></ol></div><div class=td-content style=page-break-before:always><h1 id=pg-13bdc4e2d439d9398ab01daeeb4bb1ec>8.2 - Set Up Photon OS on EC2</h1><p>To run Photon OS on EC2, you must use cloud-init with an EC2 data source. The cloud-init service configures the cloud instance of a Linux image. An <em>instance</em> is a virtual server in the Amazon cloud.</p><p>The examples in this section show how to generate SSH and RSA keys for your Photon instance, upload the Photon OS <code>.ami</code> image to the Amazon cloud, and configure it with cloud-init. In the examples, replace information with your own paths, account details, or other information from Amazon.</p><p>Perform the following steps to set up Photon OS on EC2</p><ol><li><p>Create a key pair.</p><p>Generate SSH keys on, for instance, an Ubuntu workstation:</p><pre><code>ssh-keygen -f ~/.ssh/mykeypair
</code></pre><p>The command generates a public key in the file with a <code>.pub</code> extension and a private key in a file with no extension. Keep the private key file and remember the name of your key pair. The name is the file name of the two files without an extension. You will need the name later to connect to the Photon instance.</p><p>Change the mode bits of the public key pair file to protect its security. In the command, include the path to the file if you need to.</p><pre><code>chmod 600 mykeypair.pub
</code></pre><p>Change the mode bits on your private key pair file so that only you can view it:</p><pre><code>chmod 400 mykeypair
</code></pre><p>To import your public key pair file, but not your private key pair file, connect to the EC2 console at <a href=https://console.aws.amazon.com/ec2/>https://console.aws.amazon.com/ec2/</a> and select the region for the key pair. A key pair works only in one region, and the instance of Photon OS that will be uploaded later must be in the same region as the key pair. Select <code>key pairs</code> under <code>Network & Security</code>, and then import the public key pair file that you generated earlier.</p><p>For more information, see <a href=http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html#how-to-generate-your-own-key-and-import-it-to-aws>Importing Your Own Key Pair to Amazon EC2</a>.</p></li><li><p>Generate a certificate.</p><p>When you bundle up an image for EC2, Amazon requires an RSA user signing certificate. You create the certificate by using openssl to first generate a private RSA key and then to generate the RSA certificate that references the private RSA key. Amazon uses the pairing of the private key and the user signing certificate for handshake verification.</p><ol><li><p>On Ubuntu 14.04 or another workstation that includes <code>openssl</code>, run the following command to generate a private key. If you change the name of the key, keep in mind that you will need to include the name of the key in the next command, which generates the certificate.</p><pre><code></code></pre></li></ol><p>openssl genrsa 2048 > myprivatersakey.pem</p><pre><code>  
    Make a note of your private key as you will need it again later. 
   
1. Run the following command to generate the certificate. The command prompts you to provide more information, but because you are generating a user signing certificate, not a server certificate, you can just type `Enter` for each prompt to leave all the fields blank.
       
    ```
</code></pre></li></ol><p>openssl req -new -x509 -nodes -sha256 -days 365 -key myprivatersakey.pem -outform PEM -out certificate.pem</p><pre><code>   
        For more information, see the Create a Private Key and the Create the User Signing Certificate sections of [Setting Up the AMI Tools](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/set-up-ami-tools.html#ami-upload-bundle).
    
     1. Upload to AWS the certificate value from the `certificate.pem` file that you created in the previous command. Go to the Identity and Access Management console at https://console.aws.amazon.com/iam/, navigate to the name of your user, open the `Security Credentials` section, click `Manage Signing Certificates`, and then click `Upload Signing Certificate`. Open `certificate.pem` in a text editor, copy and paste the contents of the file into the `Certificate Body` field, and then click `Upload Signing Certificate`.
    
    For more information, see the Upload the User Signing Certificate section of [Setting Up the AMI Tools](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/set-up-ami-tools.html#ami-upload-bundle).

1. Create a security group.

    Create a security group and set it to allow SSH, HTTP, and HTTPS connections over ports 22, 80, and 443, respectively.
    Connect to the EC2 command-line interface and run the following commands: 
    
    	aws ec2 create-security-group --group-name photon-sg --description &quot;My Photon security group&quot;
    	{
    	    &quot;GroupId&quot;: &quot;sg-d027efb4&quot;
    	}
    	aws ec2 authorize-security-group-ingress --group-name photon-sg --protocol tcp --port 22 --cidr 0.0.0.0/0
    
    Make a note of the `GroupId` that is returned by EC2 as you will need it again later.
    
    By using `0.0.0.0/0` for SSH ingress on Port 22, you open the port to all IP addresses--which is not a security best practice but a convenience for the examples in this article. For a production instance or other instances that are anything more than temporary machines, you must authorize only a specific IP address or range of addresses. For more information, see [Authorizing Inbound Traffic for Linux Instances](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/authorizing-access-to-an-instance.html).
    
    Repeat the command to allow incoming traffic on Port 80 and on Port 443: 
    
    	aws ec2 authorize-security-group-ingress --group-name photon-sg --protocol tcp --port 80 --cidr 0.0.0.0/0
    
    	aws ec2 authorize-security-group-ingress --group-name photon-sg --protocol tcp --port 443 --cidr 0.0.0.0/0
    
    Check your update: 
    
    	aws ec2 describe-security-groups --group-names photon-sg

1. Extract the tarball.

    Make a directory to store the image and then extract the Photon OS image from its archive by running the following `tar` command. If required, change the file name to match the version you have.    
    
    	mkdir bundled
    	tar -zxvf ./photon-ami.tar.gz

1. Bundle the image.

    Run the `ec2-bundle-image` command to create an instance store-backed Linux AMI from the Photon OS image that you extracted in the previous step. The result of the `ec2-bundle-image` command is a manifest that describes the machine in an XML file. 
    
    The command uses the certificate path to your PEM-encoded RSA public key certificate file, the path to your PEM-encoded RSA private key file, your EC2 user account ID; the correct architecture for Photon OS, the path to the Photon OS AMI image extracted from its tar file, and the `bundled` directory from the previous step. 
    
    Replace the values of the certificate path, the private key, and the user account with your own values.
    
    	$ ec2-bundle-image --cert certificate.pem --privatekey myprivatersakey.pem --user &lt;EC2 account id&gt;  --arch x86_64 --image photon-ami.raw --destination ./bundled/

1. Put the bundle in a bucket.

    Make an S3 bucket, replacing `&lt;bucket-name&gt;` with the name that you want. The command creates the bucket in the region specified in your Amazon configuration file, which should be the same region in which you are using your key pair file: 
    
    	$ aws s3 mb s3://&lt;bucket-name&gt;
    
    Upload the bundle to the Amazon S3 cloud. The following command includes the path to the XML file containing the manifest for the Photon OS machine created during the previous step, though you might have to change the file name to match the version you have. The manifest file is typically located in the same directory as the bundle. 
    
    The command also includes the name of the Amazon S3 bucket in which the bundle is to be stored; your AWS access key ID; and your AWS secret access key.
    
    	$ ec2-upload-bundle --manifest ./bundled/photon-ami.manifest.xml --bucket &lt;bucket-name&gt; --access-key &lt;Account Access Key&gt; --secret-key &lt;Account Secret key&gt;

1. Register the Image

    Run the following command to register the image. The command includes a name for the AMI, its architecture, and its virtualization type. The virtualization type for Photon OS is `hvm`.
    
    	$ ec2-register &lt;bucket-name&gt;/photon-ami.manifest.xml --name photon-ami --architecture x86_64 --virtualization-type hvm
    
    Once the image is registered, you can launch as many new instances as you require.

1. Run an instance of the image with Cloud-Init.

    In the below command, the `user-data-file` option instructs cloud-init to import the cloud-config data in `user-data.txt`.  
    
    Before you run the command, change directories to the directory containing the `mykeypair` file and add the path to the `user-data.txt`. 
    
    	$ ec2-run-instances &lt;ami-ID&gt; --instance-type m3.medium -g photon-sg --key mykeypair --user-data-file user-data.txt
    
    The command also includes the ID of the AMI, which you can obtain by running `ec2-describe-images`. Replace the instance type of `m3.medium` and the name of key pair with your own values to be able to connect to the instance. 
    
    The following are the contents of the `user-data.txt` file that `cloud-init` applies to the machine the first time it boots up in the cloud.  
    
    	#cloud-config
    	hostname: photon-on-01
    	groups:
    	- cloud-admins
    	- cloud-users
    	users:
    	- default
    	- name: photonadmin
    	   gecos: photon test admin user
    	   primary-group: cloud-admins
    	   groups: cloud-users
    	   lock-passwd: false
    	   passwd: vmware
    	- name: photonuser
    	   gecos: photon test user
    	   primary-group: cloud-users
    	   groups: users
    	   passwd: vmware
    	packages:
    	- vim

1. Get the IP address of your image.

    Run the following command to check on the state of the instance that you launched: 
    
    	$ ec2-describe-instances
    
    Obtain the external IP address of the instance by running the following query: 
    
    	$ aws ec2 describe-instances --instance-ids &lt;instance-id&gt; --query 'Reservations[*].Instances[*].PublicIpAddress' --output=text
    
Optionally, check the cloud-init output log file on EC2 at `/var/log/cloud-init-output.log` to see how EC2 handles the settings in the cloud-init data file. 
    
For more information on using cloud-init user data on EC2, see [Running Commands on Your Linux Instance at Launch](http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/user-data.html).</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-c217b6cbe163c7d25a8803f7e23c0069>8.3 - Deploy a Containerized Application in Photon OS</h1><p>Connect to the Photon instance by using SSH and to launch a web server by running it in Docker.</p><ol><li><p>Connect with SSH</p><p>Connect to the instance over SSH by specifying the private key (.pem) file and the user name for the Photon machine, which is <code>root</code>:</p><pre><code> ssh -i ~/.ssh/mykeypair root@&lt;public-ip-address-of-instance&gt;
</code></pre><p>For complete instructions, see <a href=http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html>Connecting to Your Linux Instance Using SSH</a>.</p></li><li><p>Run Docker</p><p>On the minimal version of Photon OS, the docker engine is enabled and running by default, which you can see by running the following command:</p><pre><code> systemctl status docker
</code></pre></li><li><p>Start the web server</p><p><strong>Note</strong>: Please make sure that the proper security policies have been enabled on the Amazon AWS side to enable traffic to port 80 on the VM.</p><p>Since Docker is running, you can run an application in a container&ndash;for example, the Nginx Web Server. This example uses the popular open source web server Nginx. The Nginx application has a customized VMware package that the Docker engine can download directly from the Docker Hub.</p><p>To pull Nginx from its Docker Hub and start it, run the following command:</p><pre><code> docker run -p 80:80 vmwarecna/nginx
</code></pre><p>The Nginx web server should be bound to the public DNS value for the instance of Photon OS, that is, the same address with which you connected over SSH.</p></li><li><p>Test the web server</p><p>On your local workstation, open a web browser and go to the the public address of the Photon OS instance running Docker. The following screen should appear, showing that the web server is active:</p><p><img src=../../images/Nginx.jpg alt=Nginx></p><p>Stop the Docker container by typing <code>Ctrl+c</code> in the SSH console through which you are connected to EC2.</p></li></ol><p>You can now run other containerized applications from the Docker Hub or your own containerized application on Photon OS in the Amazon cloud.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-6ee250fdb6cd3aa3b2089a643ebc99a1>8.4 - Launch the Web Server with Cloud-Init</h1><p>To eliminate the manual effort of running Docker, you can add <code>docker run</code> and its arguments to the cloud-init user data file by using <code>runcmd</code>:</p><pre><code>#cloud-config
hostname: photon-on-01
groups:
- cloud-admins
- cloud-users
users:
- default
- name: photonadmin
   gecos: photon test admin user
   primary-group: cloud-admins
   groups: cloud-users
   lock-passwd: false
   passwd: vmware
- name: photonuser
   gecos: photon test user
   primary-group: cloud-users
   groups: users
   passwd: vmware
packages:
- vim
runcmd:
- docker run -p 80:80 vmwarecna/nginx
</code></pre><p>To try this addition, run another instance with the new cloud-init data source and then get the public IP address of the instance to check that the Nginx web server is running.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-39b73afa8f1609a442a680b04297799e>8.5 - Terminate the AMI Instance</h1><p>Because Amazon charges you while the instance is running, you must shut it down when you have finsihed using it.</p><ol><li>Get the ID of the AMI so you can terminate it:</li></ol><pre><code>$ ec2-describe-instances
</code></pre><ol start=2><li>Terminate the Photon OS instance by running the following command:</li></ol><pre><code>$ ec2-terminate-instances &lt;instance-id&gt;
</code></pre><p>Replace the placeholder with the ID that the <code>ec2-describe-images</code> command returned. If you ran a second instance of Photon OS with the cloud-init file that runs docker, terminate that instance as well.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-82b942d068e235c58b388388bb1a4e4a>9 - Running Photon OS on Microsoft Azure</h1><p>You can use Photon OS as a run-time environment for Linux containers on Microsoft Azure. You can set up and run the cloud-ready version of Photon OS as an instance of a virtual machine in the Azure cloud. Once Photon OS is running, you can deploy a containerized application in Docker.</p><p><strong>Note:</strong> These instructions apply to Photon OS 2.0 and 3.0. There is no Photon OS 1.0 distribution image for Microsoft Azure.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-ad1b426636b0abebe6331214188cbb7a>9.1 - Prerequisites for Running Photon OS on Azure</h1><p>Before you use Photon OS with Microsoft Azure, perform the following prerequisite tasks:</p><ol><li><p>Verify that you have a Microsoft Azure account. To create an account, see <a href=https://azure.microsoft.com>https://azure.microsoft.com</a></p></li><li><p>Install the latest version of Azure CLI. See <a href="https://docs.microsoft.com/en-us/cli/azure/install-azure-cli?view=azure-cli-latest">Install Azure CLI 2.0</a> and <a href="https://docs.microsoft.com/en-us/cli/azure/get-started-with-azure-cli?view=azure-cli-latest">Get started with Azure CLI 2.0</a>.</p></li><li><p>Verify that that you have a pair of SSH public and private keys.</p></li><li><p>Download and extract the Photon OS VHD file.</p><p>VMware packages Photon OS as an Azure-ready virtual hard disk (VHD file) that you can download for free from the <a href=https://packages.vmware.com/photon/4.0/GA/azure/>VMware Photon Packages</a> site. This VHD file is a virtual appliance with the information and packages that Azure needs to launch an instance of Photon in the cloud. After you have downloaded the distribution archive, extract the VHD file from it. You will later need to upload this VHD file to Azure, where it will be stored in an Azure storage account. For more information, see <a href=../../downloading-photon/>Downloading Photon OS</a>.</p></li></ol></div><div class=td-content style=page-break-before:always><h1 id=pg-6033e80ea39d7d9d45cd24d672ef58f3>9.2 - Set Up Azure Storage and Uploading the VHD</h1><p>You can use either the Azure Portal or the Azure CLI to set up your Azure storage space, upload the Photon OS VHD file, and create the Photon OS VM.</p><h2 id=setting-up-using-the-azure-portal>Setting Up Using the Azure Portal</h2><p>You can use the Azure portal to set up Photon OS 4.0 in the Azure cloud. The following instructions are brief. Refer to the Azure documentation for details.</p><ol><li>Log in to the Azure portal at <a href=http://portal.azure.com/>http://portal.azure.com</a>.</li><li>Create a resource group. In the toolbar, choose Resource Groups, click <strong>+Add</strong> , fill in the resource group fields, and choose <strong>Create</strong>.</li><li>Create a storage account. In the toolbar, choose Storage Accounts, click <strong>+Add</strong> , fill in the storage account fields (and the resource group you just created), and choose <strong>Create</strong>.</li><li>Select the storage account.</li><li>Scroll down the storage account control bar, click Containers (below BLOB SERVICE), click <strong>+Container</strong> , fill in the container fields, and choose <strong>Create</strong>.</li><li>Select the container you just created.</li><li>Click <strong>Upload</strong> and upload the Photon OS VHD image file to this container.</li><li>Once the VHD file is uploaded, refer to the Azure documentation for instructions on how to create and manage your Photon OS VM.</li></ol><h2 id=setting-up-using-the-azure-cli>Setting Up Using the Azure CLI</h2><p>You can use the Azure CLI 2.0 to set up Photon OS.</p><p><strong>Note:</strong> Except where overridden with parameter values, these commands create objects with default settings.</p><ol><li><p>Create a resource group.</p><p>From the Azure CLI, create a resource group.</p><pre><code>az group create \
 --name &amp;lt;your_resource_group&amp;gt; \
 --location westus
</code></pre></li><li><p>Create a storage account</p><p>Create a storage account associated with this resource group.</p><pre><code>az storage account create \
    --resource-group &amp;lt;your_resource_group&amp;gt; \
    --location westus \
    --name &amp;lt;your_account_name&amp;gt; \
    --kind Storage \
    --sku Standard_LRS
</code></pre></li><li><p>List the Keys for the Storage Account</p><p>Retrieve the keys associated with your newly created storage account.</p><pre><code>az storage account keys list \
    --resource-group &amp;lt;your_resource_group&amp;gt; \
    --account-name &amp;lt;your_account_name&amp;gt;
</code></pre></li><li><p>Create the Storage Container</p><p>Create a storage container associated with your newly created storage account.</p><p><strong>Note:</strong> The sample create.sh script, described below, does this for you programmatically.</p><pre><code>az storage container create \
    --account-name &amp;lt;your_account_name&amp;gt; \
    --name &amp;lt;your_container_name&amp;gt;
</code></pre></li><li><p>Verify Your Setup in the Azure Portal</p><ol><li>Log into the Azure portal using your account credentials.</li><li>From the left toolbar, click <strong>Storage Accounts</strong>. You should see your storage accounts.</li><li>Select the storage account.</li><li>Scroll down the storage account control bar and click <strong>Containers</strong> (below BLOB SERVICE). You should see the container you created.</li></ol></li><li><p>Upload the Photon OS Distribution to Your Storage Container</p><p>The Photon OS distribution for Azure is 16GB. You can download it locally or to a mounted, shared location.</p><pre><code>az storage blob upload \
    --account-name &amp;lt;your_account_name&amp;gt; \
    --account-key &amp;lt;your_account_key&amp;gt; \
    --container-name &amp;lt;your_container_name&amp;gt; \
    --type page \
    --file &amp;lt;vhd_path&amp;gt; \
    --name &amp;lt;vm_name&amp;gt;.vhd
</code></pre></li></ol><h3 id=example-setup-script>Example Setup Script</h3><p>You can use the following script (create.sh) to upload your VHD file programmatically and create the VM. Before you run it, specify the following settings:</p><ul><li>resource_group name</li><li>account_name</li><li>account_key (public or private)</li><li>container_name</li><li>public_key_file</li><li>vhd_path and and vm_name of the Photon OS VHD distribution file</li></ul><p>The following script returns the complete IP address of the newly created VM.</p><pre><code>#!/bin/bash
vhd_path=$1
vm_name=$2
export PATH=$PATH:/root/azure_new/bin/az
echo PATH=$PATH
resource_group=&amp;quot;&amp;quot;
account_name=&amp;quot;&amp;quot;
account_key=&amp;quot;&amp;quot;
container_name=&amp;quot;mydisks&amp;quot;
url=&amp;quot;https://${account_name}.blob.core.windows.net/${container_name}/${vm_name}.vhd&amp;quot;
public_key_file=&amp;quot;/root/azure_new/jenkins.pub&amp;quot;
echo &amp;quot;########################&amp;quot;
echo &amp;quot;#   Create container   #&amp;quot;
echo &amp;quot;########################&amp;quot;
/root/azure_new/bin/az storage container create --account-name ${account_name} --name ${container_name}
echo &amp;quot;##################&amp;quot;
echo &amp;quot;#   Upload vhd   #&amp;quot;
echo &amp;quot;##################&amp;quot;
/root/azure_new/bin/az storage blob upload --account-name ${account_name} \
    --account-key ${account_key} \
    --container-name ${container_name} \
    --type page \
    --file ${vhd_path} \
    --name ${vm_name}.vhd
echo &amp;quot;##################&amp;quot;
echo &amp;quot;#   Create vm    #&amp;quot;
echo &amp;quot;##################&amp;quot;
echo &amp;quot;az vm create --resource-group ${resource_group} --location westus --name ${vm_name} --storage-account ${account_name} --os-type linux --admin-username michellew --ssh-key-value ${public_key_file} --image ${url} --use-unmanaged-disk ... ...&amp;quot;
/root/azure_new/bin/az vm create --resource-group ${resource_group} --location westus --name ${vm_name} --storage-account ${account_name} --os-type linux --admin-username michellew --ssh-key-value ${public_key_file} --image ${url} --use-unmanaged-disk
</code></pre></div><div class=td-content style=page-break-before:always><h1 id=pg-9a8d0861f63e4cbd91bcd0136f402e8b>9.3 - Remove Photon OS From Azure</h1><p>You can use the following delete.sh script to programmatically and silently remove the VM instance, VHD file, and container.</p><p>Consider deleting idle VMs so that you are not charged when not in use.</p><p>Before you run it, specify the following settings:</p><ul><li>resource_group name (from step 1, above)</li><li>account_name (from step 2, above)</li><li>account_key (public or private) (from step 3, above)</li><li>container_name (from step 4, above)</li><li>public_key_file</li><li>vm_name of the Photon OS VHD distribution file</li></ul><p><strong>delete.sh</strong></p><pre><code>#!/bin/bash
vm_name=$1
resource_group=&amp;quot;&amp;quot;
account_name=&amp;quot;&amp;quot;
account_key=&amp;quot;&amp;quot;
container_name=&amp;quot;mydisks&amp;quot;
url=&amp;quot;https://${account_name}.blob.core.windows.net/${container_name}/${vm_name}.vhd&amp;quot;
public_key_file=&amp;quot;/root/azure_new/jenkins.pub&amp;quot;
exit_code=0
echo &amp;quot;##################&amp;quot;
echo &amp;quot;#   Delete vm    #&amp;quot;
echo &amp;quot;##################&amp;quot;
echo &amp;quot;az vm list  --resource-group ${resource_group} ... ...&amp;quot;
/root/azure_new/bin/az vm list  --resource-group ${resource_group}
echo &amp;quot;az vm delete --resource-group ${resource_group} --name ${vm_name} --yes ... ...&amp;quot;
/root/azure_new/bin/az vm delete --resource-group ${resource_group} --name ${vm_name} --yes
if [$? -ne 0];then
   exit_code=1
fi
echo &amp;quot;az vm list  --resource-group ${resource_group} ... ...&amp;quot;
/root/azure_new/bin/az vm list  --resource-group ${resource_group}
echo &amp;quot;##############$####&amp;quot;
echo &amp;quot;#   Delete vhd    #&amp;quot;
echo &amp;quot;###############$###&amp;quot;
echo &amp;quot;az storage blob list --account-name ${account_name} --container-name ${container_name} ... ...&amp;quot;
/root/azure_new/bin/az storage blob list --account-name ${account_name} --container-name ${container_name}
echo &amp;quot;az storage blob delete --account-name ${account_name} --container-name ${container_name} --name ${vm_name}.vhd ... ...&amp;quot;
/root/azure_new/bin/az storage blob delete --account-name ${account_name} --container-name ${container_name} --name ${vm_name}.vhd
if [$? -ne 0];then
   exit_code=1
fi
echo &amp;quot;az storage blob list --account-name ${account_name} --container-name ${container_name} ... ...&amp;quot;
/root/azure_new/bin/az storage blob list --account-name ${account_name} --container-name ${container_name}
echo &amp;quot;########################&amp;quot;
echo &amp;quot;#   Delete container   #&amp;quot;
echo &amp;quot;########################&amp;quot;
/root/azure_new/bin/az storage container delete --account-name ${account_name} --name ${container_name}
/root/azure_new/bin/az storage container delete --account-name ${account_name} --name vhds
exit ${exit_code}
</code></pre><p>You can now proceed to <a href=../../deploying-a-containerized-application-in-photon-os/>Deploying a Containerized Application in Photon OS</a>.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-afab1e848c12bf1991fdaa11793b3aec>10 - Running Photon OS on Google Compute Engine</h1><p>You can use Photon OS as a virtual machine on Google Compute Engine (GCE). You can download Photon OS, as an OVA or ISO file, and install the Photon OS distribution on vSphere. After you install Photon OS, you can deploy a containerized application in Docker with a single command.</p></div><div class=td-content><h1 id=pg-550dbc0b52c6260a1bd98c719abf40f2>10.1 - Prerequisites for Running Photon OS on GCE</h1><p>Before you use Photon OS within GCE, verify that you have the following resources:</p><ol><li><a href=#google-compute-engine-account>Google Compute Engine account</a></li><li><a href=#gce-tools>GCE tools</a></li><li><a href=#photon-os-image>Photon OS Image</a></li></ol><h2 id=google-compute-engine-account>Google Compute Engine Account</h2><p>Working with GCE requires a Google Compute Engine account with valid payment information. Keep in mind that, if you try the examples in this document, you will be charged by Google. The GCE-ready version of Photon OS is free to use.</p><h2 id=gce-tools>GCE Tools</h2><p>GCE is a service that lets you run virtual machines on Google&rsquo;s infrastructure. You can customize the virtual machine as much as you want, and you can even install your own custom operating system image. Or, you can adopt one of the public <a href=https://cloud.google.com/compute/docs/operating-systems/>images</a> provided by Google. For any operating system to work with GCE, it must match Google&rsquo;s infrastructure needs. Google provides tools that VM instances require to work correctly on GCE:</p><ul><li><strong><a href=https://cloud.google.com/compute/docs/startupscript>Google startup scripts</a></strong>: You can provide some startup script to configure your instances at startup.</li><li><strong><a href=https://cloud.google.com/compute/docs/metadata>Google Daemon</a></strong>: Google Daemon creates new accounts and configures ssh to accept public keys using the metadata server.</li><li><strong><a href=https://cloud.google.com/sdk/>Google Cloud SDK</a></strong>: Command line tools to manage your images, instances and other objects on GCE.</li></ul><p>Perform the following tasks to make Photon OS work on GCE:</p><ol><li>Install Google Compute Engine Image packages</li><li>Install Google Cloud SDK</li><li>Change GPT partition table to MBR</li><li>Update the Grub config for new MBR and serial console output</li><li>Update ssh configuration</li><li>Delete ssh host keys</li><li>Set the time zone to UTC</li><li>Use the Google NTP server</li><li>Delete the hostname file.</li><li>Add Google hosts /etc/hosts</li><li>Set MTU to 1460. SSH will not work without it.</li><li>Create <code>/etc/ssh/sshd_not_to_be_run</code> with just the contents “GOOGLE\n”.</li></ol><p>For more information see <a href=https://cloud.google.com/compute/docs/tutorials/building-images>Importing Boot Disk Images to Compute Engine</a>.</p><p>For information about upgrading the Photon OS Linux kernel see <a href=Upgrading-the-Kernel-Version-Requires-Grub-Changes-for-AWS-and-GCE-Images.md>Upgrading the Kernel Version Requires Grub Changes for AWS and GCE Images</a></p><h2 id=photon-os-image>Photon OS Image</h2><p>VMware recommends that administrators use the Photon OS image for Google Compute Engine (GCE) to create Photon OS instances on GCE. Photon OS bundles the Google startup scripts, daemon, and cloud SDK into a GCE-ready image that has been modified to meet the configuration requirements of GCE. You can download the Photon OS image for GCE from the following URL:
<a href=https://packages.vmware.com/photon/4.0/GA/gce/>https://packages.vmware.com/photon/4.0/GA/gce/</a></p><p>For instructions, see <a href=../../downloading-photon>Downloading Photon OS</a>.</p><p>Optionally you can customize Photon OS to work with GCE.</p><h3 id=creating-photon-image-for-gce>Creating Photon image for GCE</h3><p>Perform the following tasks:</p><ol><li><p>Prepare Photon Disk</p><ol><li><p>Install Photon Minimal on Fusion/Workstation and install some required packages.</p><pre><code>mount /dev/cdrom /media/cdrom
tdnf install python2-libs ntp sudo wget tar which gptfdisk sed findutils grep gzip -y
</code></pre></li></ol><pre><code>
</code></pre></li><li><p>Convert GPT to MBR and update the grub</p><pre><code> Photon installer installs GPT partition table by default but GCE only accepts an MBR (msdos) type partition table. So, you must convert GPT to MBR and update the grub. Use the following commands to update the grub:
    
      ```
    # Change partition table to MBR from GPT
    sgdisk -m 1:2 /dev/sda
    grub2-install /dev/sda
       
    # Enable serial console on grub for GCE.
    cat &lt;&lt; EOF &gt;&gt; /etc/default/grub
    GRUB_CMDLINE_LINUX=&quot;console=ttyS0,38400n8&quot;
    GRUB_TERMINAL=serial
    GRUB_SERIAL_COMMAND=&quot;serial --speed=38400 --unit=0 --word=8 --parity=no --stop=1&quot;
    EOF
       
    # Create new grub.cfg based on the settings in /etc/default/grub
    grub2-mkconfig -o /boot/grub2/grub.cfg
      ```
</code></pre></li><li><p>Install Google Cloud SDK and GCE Packages</p><pre><code>      tdnf install -y google-compute-engine google-compute-engine-services
      cp /usr/lib/systemd/system/google* /lib/systemd/system/
      cd /lib/systemd/system/multi-user.target.wants/
         
      # Create links in multi-user.target to auto-start these scripts and services.
      for i in ../google*; do  ln -s $i `basename $i`; done
         
      cd /tmp/; wget https://dl.google.com/dl/cloudsdk/release/google-cloud-sdk.tar.gz
      tar -xf google-cloud-sdk.tar.gz
      cd google-cloud-sdk
      ./install.sh
</code></pre></li><li><p>Update /etc/hosts file with GCE values as follows:</p><pre><code>      echo &quot;169.254.169.254 metadata.google.internal metadata&quot; &gt;&gt; /etc/hosts
</code></pre></li><li><p>Remove all servers from ntp.conf and add Google&rsquo;s ntp server.</p><pre><code>      sed -i -e &quot;/server/d&quot; /etc/ntp.conf
      cat /etc/ntp.conf
      echo &quot;server 169.254.169.254&quot; &gt;&gt; /etc/ntp.conf
      # Create ntpd.service to auto starting ntp server.
      cat &lt;&lt; EOF &gt;&gt; /lib/systemd/system/ntpd.service
      [Unit]
      Description=Network Time Service
      After=network.target nss-lookup.target
   
      [Service]
      Type=forking
      PrivateTmp=true
      ExecStart=/usr/sbin/ntpd -g -u ntp:ntp
      Restart=always
         
      [Install]
      WantedBy=multi-user.target
      EOF
         
      # Add link in multi-user.target.wants to auto start this service.
      cd /lib/systemd/system/multi-user.target.wants/
      ln -s ../ntpd.service ntpd.service
</code></pre></li><li><p>Set UTC timezone</p><pre><code>      ln -sf /usr/share/zoneinfo/UTC /etc/localtime
</code></pre></li><li><p>Update /etc/resolv.conf</p><pre><code>      echo &quot;nameserver 8.8.8.8&quot; &gt;&gt; /etc/resolv.conf
</code></pre></li><li><p>Remove ssh host keys and add script to regenerate them at boot time.</p><pre><code>      rm /etc/ssh/ssh_host_*
      # Depending on the installation, you may need to purge the following keys
      rm /etc/ssh/ssh_host_rsa_key*
      rm /etc/ssh/ssh_host_dsa_key*
      rm /etc/ssh/ssh_host_ecdsa_key*
   
      sed -i -e &quot;/exit 0/d&quot; /etc/rc.local
      echo &quot;[ -f /etc/ssh/ssh_host_key ] &amp;&amp; echo 'Keys found.' || ssh-keygen -A&quot; &gt;&gt; /etc/rc.local
      echo &quot;exit 0&quot; &gt;&gt; /etc/rc.local
      printf &quot;GOOGLE\n&quot; &gt; /etc/ssh/sshd_not_to_be_run
         
      # Edit sshd_config and ssh_config as per instructions on [this link](https://cloud.google.com/compute/docs/tutorials/building-images).
</code></pre></li><li><p>Change MTU to 1460 for network interface.</p><pre><code> # Create a startup service in systemd that will change MTU and exits
      cat &lt;&lt; EOF &gt;&gt; /lib/systemd/system/eth0.service
      [Unit]
      Description=Network interface initialization
      After=local-fs.target network-online.target network.target
      Wants=local-fs.target network-online.target network.target
    
      [Service]
      ExecStart=/bin/ifconfig eth0 mtu 1460 up
      Type=oneshot
    
      [Install]
      WantedBy=multi-user.target
      EOF
      # Make this service auto-start at boot.
      cd /lib/systemd/system/multi-user.target.wants/
      ln -s ../eth0.service eth0.service
</code></pre></li><li><p>Pack and upload to GCE.</p><p>Shut down the Photon VM and copy its disk to THE <code>tmp</code> folder.</p><pre><code>```
# You will need to install Google Cloud SDK on host machine to upload the image and play with GCE.
      cp Virtual\ Machines.localized/photon.vmwarevm/Virtual\ Disk.vmdk /tmp/disk.vmdk
      cd /tmp
      # GCE needs disk to be named as disk.raw with raw format.
      qemu-img convert -f vmdk -O raw disk.vmdk disk.raw
         
      # ONLY GNU tar will work to create acceptable tar.gz file for GCE. MAC's default tar is BSDTar which will not work. 
      # On Mac OS X ensure that you have gtar &quot;GNU Tar&quot; installed. exmaple: gtar -Szcf photon.tar.gz disk.raw 
   
      gtar -Szcf photon.tar.gz disk.raw 
         
      # Upload
      gsutil cp photon.tar.gz gs://photon-bucket
         
      # Create image
      gcloud compute --project &quot;&lt;project name&gt;&quot; images create &quot;photon-beta-vYYYYMMDD&quot; --description &quot;Photon Beta&quot; --source-uri https://storage.googleapis.com/photon-bucket/photon032315.tar.gz
         
      # Create instance on GCE of photon image
      gcloud compute --project &quot;photon&quot; instances create &quot;photon&quot; --zone &quot;us-central1-f&quot; --machine-type &quot;n1-standard-1&quot; --network &quot;default&quot; --maintenance-policy &quot;MIGRATE&quot; --scopes &quot;https://www.googleapis.com/auth/devstorage.read_only&quot; &quot;https://www.googleapis.com/auth/logging.write&quot; --image &quot;https://www.googleapis.com/compute/v1/projects/photon/global/images/photon&quot; --boot-disk-type &quot;pd-standard&quot; --boot-disk-device-name &quot;photon&quot;
   
```
</code></pre></li></ol></div><div class=td-content style=page-break-before:always><h1 id=pg-05f30b7237da7a556f6587e7eafd1eed>10.2 - Installing Photon OS on Google Compute Engine</h1><p>After you download the Photon OS image for GCE, log into GCE and install Photon OS.</p><p>Perform the following steps:</p><ol><li><p>Create a New Bucket</p><p>Create a new bucket to store your Photon OS image for GCE.</p><p><img src=../../images/gce1.jpg alt=gce1></p></li><li><p>Upload the Photon OS Image</p><p>While viewing the bucket that created, click the <code>Upload files</code> button, navigate to your Photon OS image and click the <code>Choose</code> button.</p><p>When the upload finishes, you can see the Photon OS compressed image in the file list for the bucket that you created.</p><p><img src=../../images/gce2.jpg alt=gce2></p></li><li><p>Create a New Image</p><p>To create a new image, click on <code>Images</code> in the <code>Compute</code> category in the left panel and then click on the <code>New Image</code> button.</p><p>Enter a name for the image in the <code>Name</code> field and change the <code>Source</code> to <code>Cloud Storage file</code> using the pull-down menu. Then, in the <code>Cloud Storage file</code> field, enter the bucket name and filename as the path to the Photon OS image for GCE. In this example, where the bucket was named <code>photon_storage,</code> the path is as follows:</p><pre><code> `photon_storage/photon-gce-2.0-tar.gz`
</code></pre><p>The new image form autopopulates the <code>gs://</code> file path prefix.*</p><p>Click the <code>Create</code> button to create your image. You must be able to see the Images catalog and your Photon OS image at the top of the list.</p></li><li><p>Create a New Instance</p><p>To create an instance, check the box next to the Photon OS image and click the <code>Create Instance</code> button.</p><p>On the <code>Create a new instance</code> form, provide a name for this instance, confirm the zone into which this instance is to be deployed and, before clicking <code>Create,</code> check the <code>Allow HTTP traffic</code> and <code>Allow HTTPS traffic</code> options.</p><p><strong>Note</strong>: The firewall rules in this example are optional. You can configure the ports according to your requirements.</p><p><img src=../../images/gce4.jpg alt=gce4></p><p>When the instance is created you will be returned to your list of VM instances. If you click on the instance, the status page for the instance will allow you to SSH into your Photon OS environment using the SSH button at the top of the panel.</p><p>At this point, your instance is running and you are ready to start the Docker engine and run a container workload. For more information, see <a href=../../deploying-a-containerized-application-in-photon-os/>Deploying a Containerized Application in Photon OS</a>.</p></li></ol></div><div class=td-content style=page-break-before:always><h1 id=pg-eedc963d153cd71329bd6ec6858e74e3>11 - Running Photon OS on Raspberry Pi</h1><p>You can use Photon OS as a virtual machine on Raspberry Pi (RPi). You can download Photon OS and install the Photon OS distribution on vSphere.</p></div><div class=td-content><h1 id=pg-fd6c69e7b25eaa3c6701cf504027a315>11.1 - Prerequisites for Running Photon OS on Raspberry Pi</h1><p>Before you use Photon OS within RPi, perform the following prerequisite tasks:</p><ol><li><p>Verify that you have the following resources:</p><table style=height:170px border=1 width=auto cellspacing=0 cellpadding=10><tbody><tr><td><b>Resource</b></td><td><b>Description</b></td></tr><tr><td>Raspberry Pi 3</td><td>Raspberry Pi 3 Model B or Model B+ board. This will serve as the target of the installation.</td></tr><tr><td>Raspberry Pi 4</td><td>Raspberry Pi 4 Model B or Model B+ board. This will serve as the target of the installation.</td></tr><tr><td>Host computer</td><td><p>A computer equipped with the following:</p></li></ol><p>1. An SD card reader.<p>2. Software utilities to flash an image onto an SD-card (details and instructions provided below).</td></tr><tr><td>Distribution File</td><td>Photon OS RPi image downloaded from <a href=https://packages.vmware.com/photon/>URL</a><br><p><b>Note</b>: Photon OS RPi image is available only from Photon 3.0 onwards.</td></tr></tbody></table><ol><li><p>Download Photon OS.</p><p>To install Photon OS on a Raspberry Pi, you must download the Photon OS RPi image, which is distributed as a compressed raw disk image with the file extension <code>.raw.xz</code>.</p><p><strong>Note</strong>: You cannot use the Photon ISO to install on RPi.</p><p>Go to the following URL and download the latest release of Photon OS image for RPi: <a href=https://packages.vmware.com/photon/4.0/GA/rpi/rpi.tar.xz>https://packages.vmware.com/photon/4.0/GA/rpi/rpi.tar.xz</a>.</p><p>For instructions, see <a href=../../downloading-photon/>Downloading Photon OS</a>.</p></li></ol></div><div class=td-content style=page-break-before:always><h1 id=pg-78c035034a5ada974bce4b9c1670954e>11.2 - Installing Photon OS on Raspberry Pi</h1><p>You can get Photon OS up and running on an RPi board, by flashing the Photon RPi image onto the board&rsquo;s SD card.</p><h2 id=flash-photon-os-on-raspberry-pi>Flash Photon OS on Raspberry Pi</h2><p>After you have downloaded the Photon RPi image with the file extension <code>.raw.xz</code>, you can choose one of the methods below to flash it onto the RPi SD card.</p><ol><li>Flash Photon to RPi using Etcher</li><li>Flash Photon to RPi using Linux CLI</li></ol><h3 id=flash-photon-to-rpi-using-etcher>Flash Photon to RPi using Etcher</h3><ol><li>Install Etcher <a href=https://etcher.io/>https://etcher.io/</a>, which is a utility to flash SD cards attached to your host computer.</li><li>Plug the RPi SD card into your host computer&rsquo;s SD card reader.</li><li>Perform the following steps on the Etcher GUI: <strong>Select image</strong> -> <strong>Select drive</strong> -> <strong>Flash</strong>, by selecting the Photon OS RPi as image and the RPi SD card as drive.</li></ol><h3 id=flash-photon-to-rpi-using-linux-cli>Flash Photon to RPi using Linux CLI</h3><ol><li><p>If you have Linux running on your host computer, install the <code>xz</code> package, which provides the <code>xz</code> compression utility and related tools, from your distribution package manager.</p></li><li><p>Plug the RPi&rsquo;s SD card into your host computer&rsquo;s SD card reader.</p></li><li><p>Identify the device file under <code>/dev</code> that refers to the RPi SD card. For example, <code>/dev/sdc</code>. This file path is used to flash the Photon image onto the RPi in the next step.</p><p><strong>Note</strong>: Make sure that you are flashing to the device file that refers to your RPi3 SD card. Running the below command with an incorrect device file will overwrite that device without warning and might result in a corrupted disk. The device file &lsquo;/dev/sdc` is an example and might not be the device file in your case.</p></li><li><p>Run the following command to flash Photon onto the RPi SD card:</p><p><code>xzcat &lt;photon-rpi4-image.raw.xz> | sudo dd of=/dev/sdc bs=4M conv=fsync</code></p></li></ol><h2 id=boot-photon-os-on-raspberry-pi>Boot Photon OS on Raspberry Pi</h2><p>After you flash Photon OS successfully onto the RPi SD card, eject the card from your host computer and plug it back into the RPi board.</p><p>When you power on Raspberry Pi , it boots with Photon OS.</p><p>After the splash screen, Photon OS prompts you to log in.</p><h2 id=update-login-credentials>Update login credentials</h2><p>The Photon OS RPi image is configured with a default password. However, all Photon OS instances that are created using this image will require an immediate password change upon login. The default account credentials are:</p><ul><li>Username: <code>root</code></li><li>Password: <code>changeme</code></li></ul><p>After you provide these credentials, Photon OS prompts you to create a new password and type it a second time to verify it. Photon OS does not allow common dictionary words for the root password. When you are logged in, you will see the shell prompt.</p><p>You can now run <code>tdnf list</code> to view all the ARM packages that you can install on Photon OS.</p></div><div class=td-content style=page-break-before:always><h1 id=pg-f06c107c3d3441cf06142fa7233fa7f9>11.3 - Enabling Raspberry Pi Interfaces using Device Tree</h1><p>Photon OS RPI images from Photon 4.0 has Device Tree Overlay support. And these images have compiled Overlays to enable/disable Rpi Interface. Perform the following:</p><p><strong>SPI Interface</strong>:
Execute following commands to enable SPI Interface:</p><pre><code>mkdir /sys/kernel/config/device-tree/overlays/

cat /boot/efi/overlays/rpi-enable-spi0.dtbo &gt; /sys/kernel/config/device-tree/overlays/spi/dtbo
</code></pre><p><strong>Audio Interface</strong>:
Execute following commands to enable Audio Interface:</p><pre><code>mkdir  /sys/kernel/config/device-tree/overlays/audio

cat /boot/efi/overlays/rpi-enable-audio.dtbo &gt;  /sys/kernel/config/device-tree/overlays/audio/dtbo
</code></pre><p><strong>Note</strong>: Ensure that the <strong>linux-drivers-sound</strong> rpm is installed.</p><p><strong>I2C Interface</strong>:
Execute following command to enable I2C Interface:</p><pre><code>modprobe i2c-dev
</code></pre><p>#Customizing Device Tree Overlay</p><p>Photon OS also provides Device Tree Compilers (i.e. dtc), to compile <strong>Customised Device Tree Overlays</strong>. Execute following command to install dtc on Photon OS:</p><pre><code>tdnf install dtc
</code></pre><p>Execute following command to compile the overlay:</p><pre><code>dtc -@ -O dtb -o my_overlay_dt.dtbo my_overlay_dt.dts
</code></pre><p>For more information about format of Device Tree Overlay, see
<a href=https://www.kernel.org/doc/Documentation/devicetree/overlay-notes.txt>https://www.kernel.org/doc/Documentation/devicetree/overlay-notes.txt</a></p></div><div class=td-content style=page-break-before:always><h1 id=pg-801c34aa27a2a7bdc5b108048947dda6>12 - Deploying a Containerized Application in Photon OS</h1><p>Now that you have your container runtime environment up and running, you can easily deploy a containerized application. For this example, you will deploy the popular open source Web Server Nginx. The Nginx application has a customized VMware package that is published as a dockerfile and can be downloaded, directly, through the Docker module from the Docker Hub.</p><ol><li><p>Run Docker</p><p>To run Docker from the command prompt, enter the following command, which initializes the docker engine:</p><pre><code> systemctl start docker
</code></pre><p>To ensure Docker daemon service runs on every subsequent VM reboot, enter the following command:</p><pre><code> systemctl enable docker
</code></pre></li><li><p>Run the Nginx Web Server</p><p>Now the Docker daemon service is running, it is a simple task to &ldquo;pull&rdquo; and start the Nginx Web Server container from Docker Hub. To do this, type the following command:</p><pre><code> docker run -d -p 80:80 vmwarecna/nginx
</code></pre><p>This pulls the Nginx Web Server files and appropriate dependent container filesystem layers required for this containerized application to run.</p><p><img src=../images/vs-docker-run.png alt="Docker run"></p><p>After the <strong>docker run</strong> process completes, you return to the command prompt. You now have a fully active website up and running in a container!</p></li><li><p>Test the Web Server</p><p>To test that your Web Server is active, run the ifconfig command to get the IP address of the Photon OS Virtual Machine.</p><p><img src=../images/vs-docker-ifconfig.png alt="IP address"></p><p>The output displays a list of adapters that are connected to the virtual machine. Typically, the web server daemon will be bound on <strong>eth0</strong>.</p><p>Start a browser on your host machine and enter the IP address of your Photon OS Virtual Machine. You should see a screen similar to the following example as confirmation that your web server is active.</p><p><img src=../images/vs-docker-confirm.png alt="Docker confirmation"></p><p>You can now run any other containerized application from Docker Hub or your own containerized application within Photon OS.</p></li></ol></div><div class=td-content style=page-break-before:always><h1 id=pg-71272c24f261fdad461dadc21c3eeffb>13 - Compatible Cloud Images</h1><p>The <a href=https://packages.vmware.com/photon/>Vmware Photon Packages website</a> contains the following cloud-ready images of Photon OS:</p><ol><li><p>GCE - Google Compute Engine</p></li><li><p>AMI - Amazon Machine Image</p></li><li><p>OVA</p></li></ol><p>Because the cloud-ready images of Photon OS are built to be compatible with their corresponding cloud platform or format, you typically do not need to build a cloud image, you can just go to the <a href=https://packages.vmware.com/photon/>VMware Packages</a> repo and download the image for the platform that you are working on.</p><p>If, however, you want to build your <em>own</em> cloud image, perhaps because you seek to customize the code, see the next section on how to build cloud images.</p><h2 id=how-to-build-cloud-images>How to build cloud images</h2><pre><code>sudo make cloud-image IMG_NAME=image-name

image-name: gce/ami/azure/ova
</code></pre><p>The output of the build process produces the following file formats:</p><p>GCE - A tar file consisting of disk.raw as the raw disk file</p><p>AMI - A raw disk file</p><p>OVA - An ova file (vmdk + ovf)</p><p>If you want, you can build all the cloud images by running the following command:</p><pre><code>sudo make cloud-image-all 
</code></pre><h2 id=how-to-create-running-instances-in-the-cloud>How to create running instances in the cloud</h2><p>The following sections contain some high-level instructions on how to create instances of Photon OS in the Google Compute Engine (GCE) and Amazon Elastic Cloud Compute (EC2). For more information, see the Amazon or Google cloud documentation.</p><h3 id=gce>GCE</h3><p>The tar file can be uploaded to Google&rsquo;s cloud storage and an instance can be created after creating an image from the tar file. You will need the Google Cloud SDK on your host machine to upload the image and create instances.</p><p>####Install Google cloud SDK on host machine</p><pre><code>curl https://sdk.cloud.google.com | bash
</code></pre><p>####Upload the tar file</p><pre><code>gsutil cp photon-gce.tar.gz gs://bucket-name
</code></pre><p>####Create image</p><pre><code>gcloud compute --project project-id images create image-name --description description --source-uri https://storage.googleapis.com/bucket-name/photon-gce.tar.gz
</code></pre><p>####Create instance of GCE</p><pre><code>gcloud compute --project project-id instances create instance-name --zone &quot;us-central1-f&quot; --machine-type &quot;n1-standard-1&quot; other-options
</code></pre><p>(You can also create instances from the Google developer console.)</p><p>For more information, see <a href=../run-photon-on-gce/>Running a Photon OS Machine on GCE</a>.</p><h3 id=aws-ec2>AWS EC2</h3><p>Install the <a href=http://docs.aws.amazon.com/cli/latest/userguide/installing.html#install-bundle-other-os>AWS CLI</a> and <a href=http://docs.aws.amazon.com/AWSEC2/latest/CommandLineReference/set-up-ec2-cli-linux.html>EC2 CLI</a> tools.</p><p>####Bundle the image</p><pre><code>ec2-bundle-image -c cert.pem -k private-key.pem -u $AWS_USER_ID --arch x86_64 --image photon-ami.raw --destination directory-name
</code></pre><p>####Upload the bundle</p><pre><code>ec2-upload-bundle --manifest directory-name/photon-ami.raw.manifest.xml --bucket bucket-name --access-key $AWS_ACCESS_KEY --secret-key $AWS_SECRET_KEY
</code></pre><p>####Register the AMI</p><pre><code>ec2-register bucket-name/photon-ami.raw.manifest.xml --name name --architecture x86_64 --virtualization-type hvm
</code></pre><p>You can now launch instances using the AWS console.</p><p>For more information, see <a href=../run-photon-aws-ec2/>Customizing a Photon OS Machine on EC2</a>.</p><p>###OVA</p><p>The OVA image uses an optimized version of the 4.4.8 Linux kernel. Two ova files are generated from the build: photon-ova.ova, which is the full version of Photon OS, and photon-custom.ova, which is the minimal version of Photon OS. The password for photon-ova.ova should be changed using guest customization options when you upload it to VMware vCenter. Photon-custom.ova comes with the default password set to <code>changeme</code>; you must change it the first time you log in.</p><h4 id=ova-prerequisites>OVA Prerequisites</h4><p><a href=https://developercenter.vmware.com/web/sdk/60/vddk>VDDK 6.0</a></p><p>To utilize the VDDK libraries the following procedure may be used, this extracts the libraries and temporarily exports them to the LD_LIBRARY_PATH for the <em>current session</em>. (tested on Ubuntu 1404 & 1604) If you wish to make this permenant and system-wide then you may want to create a config file in /etc/ld.so.conf.d/.</p><pre><code>tar -zxf VMware-vix-disklib-6.0.2-3566099.x86_64.tar.gz
cp -r vmware-vix-disklib-distrib/include/* /usr/include/
mkdir /usr/lib/vmware
cp -a ~/vmware-vix-disklib-distrib/lib64/* /usr/lib/vmware/
rm /usr/lib/vmware/libstdc++.so.6
export LD_LIBRARY_PATH=/usr/lib/vmware
</code></pre><p><a href="https://my.vmware.com/group/vmware/details?downloadGroup=OVFTOOL410&productId=491">OVFTOOL</a></p><p>OVF Tool should be downloaded and installed on the host.</p><pre><code>sh VMware-ovftool-4.1.0-2459827-lin.x86_64.bundle --eulas-agreed --required
</code></pre></div></main></div></div><div class=container><footer class="container-fluid p-0 m-0 py-5 row d-print-none"><div class="container-fluid p-0"><div class="row d-flex justify-content-between align-items-center mx-0"><div class="order-sm-1 left-links"><ul class="list-inline mb-0"><li class="list-inline-item h1 px-3 m-0" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class="text-dark ml-4" target=_blank rel="noopener noreferrer" href=https://github.com/vmware/photon#readme><i class="fab fa-github">&nbsp;</i>
GitHub</a></li><li class="list-inline-item h1 px-3 m-0" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class="text-dark ml-4" target=_blank rel="noopener noreferrer" href=https://vmwarecode.slack.com><i class="fab fa-slack">&nbsp;</i>
Slack</a></li></ul></div><div class="order-sm-3 justify-items-end footer-logo"><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 511.4375 135.7375" height="135.7375" width="511.4375" id="svg3355"><defs id="defs3359"><clipPath id="clipPath3387" clipPathUnits="userSpaceOnUse"><path id="path3389" d="M142.293 245.191l494.93 337.36L74.8398 348.098"/></clipPath><linearGradient id="linearGradient3391" spreadMethod="pad" gradientTransform="matrix(-493.8,-339.007,339.007,-493.8,601.845,634.081)" gradientUnits="userSpaceOnUse" y2="0" x2="1" y1="0" x1="0"><stop id="stop3393" offset="0" style="stop-opacity:1;stop-color:#ffffff"/><stop id="stop3395" offset="1" style="stop-opacity:1;stop-color:#80c64c"/></linearGradient><clipPath id="clipPath3405" clipPathUnits="userSpaceOnUse"><path id="path3407" d="M85.2852 570.719 516.813 593.84 54.5195 690.582"/></clipPath><linearGradient id="linearGradient3409" spreadMethod="pad" gradientTransform="matrix(-304.079,-208.759,208.759,-304.079,420.197,734.568)" gradientUnits="userSpaceOnUse" y2="0" x2="1" y1="0" x1="0"><stop id="stop3411" offset="0" style="stop-opacity:1;stop-color:#ffffff"/><stop id="stop3413" offset="1" style="stop-opacity:1;stop-color:#22437e"/></linearGradient><clipPath id="clipPath3423" clipPathUnits="userSpaceOnUse"><path id="path3425" d="m538.137 270.234 95.324 293.5-205.699-247.089"/></clipPath><linearGradient id="linearGradient3427" spreadMethod="pad" gradientTransform="matrix(-255.101,-175.134,175.134,-255.101,686.667,486.234)" gradientUnits="userSpaceOnUse" y2="0" x2="1" y1="0" x1="0"><stop id="stop3429" offset="0" style="stop-opacity:1;stop-color:#ffffff"/><stop id="stop3431" offset="1" style="stop-opacity:1;stop-color:#65a5de"/></linearGradient><clipPath id="clipPath3441" clipPathUnits="userSpaceOnUse"><path id="path3443" d="M857.758 94.3906 656.035 546.801 745.172 53.6406"/></clipPath><linearGradient id="linearGradient3445" spreadMethod="pad" gradientTransform="matrix(-102.35,-449.574,449.574,-102.35,800.888,513.826)" gradientUnits="userSpaceOnUse" y2="0" x2="1" y1="0" x1="0"><stop id="stop3447" offset="0" style="stop-opacity:1;stop-color:#ffffff"/><stop id="stop3449" offset="1" style="stop-opacity:1;stop-color:#c6da3a"/></linearGradient><clipPath id="clipPath3459" clipPathUnits="userSpaceOnUse"><path id="path3461" d="M481.316 864.746 635.938 602.125l-41.313 301.32"/></clipPath><linearGradient id="linearGradient3463" spreadMethod="pad" gradientTransform="matrix(67.7401,274.401,-274.401,67.7401,532.514,627.656)" gradientUnits="userSpaceOnUse" y2="0" x2="1" y1="0" x1="0"><stop id="stop3465" offset="0" style="stop-opacity:1;stop-color:#ffffff"/><stop id="stop3467" offset="1" style="stop-opacity:1;stop-color:#c6da3a"/></linearGradient><clipPath id="clipPath3477" clipPathUnits="userSpaceOnUse"><path id="path3479" d="M1085.54 913.828 683.598 585.359l456.522 219.75"/></clipPath><linearGradient id="linearGradient3481" spreadMethod="pad" gradientTransform="matrix(441.375,262.068,-262.068,441.375,675.147,599.59)" gradientUnits="userSpaceOnUse" y2="0" x2="1" y1="0" x1="0"><stop id="stop3483" offset="0" style="stop-opacity:1;stop-color:#ffffff"/><stop id="stop3485" offset="1" style="stop-opacity:1;stop-color:#22638b"/></linearGradient><clipPath id="clipPath3495" clipPathUnits="userSpaceOnUse"><path id="path3497" d="M1177.19 335.031 693.664 556.211 1106.69 235.887"/></clipPath><linearGradient id="linearGradient3499" spreadMethod="pad" gradientTransform="matrix(450.785,-274.875,274.875,450.785,694.818,558.101)" gradientUnits="userSpaceOnUse" y2="0" x2="1" y1="0" x1="0"><stop id="stop3501" offset="0" style="stop-opacity:1;stop-color:#ffffff"/><stop id="stop3503" offset="1" style="stop-opacity:1;stop-color:#a6dbe7"/></linearGradient><clipPath id="clipPath3513" clipPathUnits="userSpaceOnUse"><path id="path3515" d="M209.754 773.73l382.32-187.417L280.926 872.391"/></clipPath><linearGradient id="linearGradient3517" spreadMethod="pad" gradientTransform="matrix(-360.263,223.047,-223.047,-360.263,601.957,602.271)" gradientUnits="userSpaceOnUse" y2="0" x2="1" y1="0" x1="0"><stop id="stop3519" offset="0" style="stop-opacity:1;stop-color:#ffffff"/><stop id="stop3521" offset="1" style="stop-opacity:1;stop-color:#a6dbe7"/></linearGradient></defs><g transform="matrix(1.25,0,0,-1.25,0,135.7375)" id="g3363"><g transform="scale(0.1,0.1)" id="g3365"><path id="path3367" style="fill:#696566;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m1544.2 536.77c69.27.0 114.66 37.031 114.66 91.972v1.192c0 59.726-44.79 90.781-112.28 90.781h-105.7V536.77h103.32zm-150.51 203.652c0 13.141 10.75 23.891 23.29 23.891h133.19c94.36.0 156.47-50.172 156.47-132.586v-1.192c0-90.183-75.25-136.765-164.24-136.765h-101.52V367.148c0-13.132-10.76-23.886-23.9-23.886-12.54.0-23.29 10.754-23.29 23.886v373.274"/><path id="path3369" style="fill:#696566;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m1765.51 743.41c0 13.141 10.76 23.887 23.29 23.887 13.14.0 23.9-10.746 23.9-23.887V578.574h241.28V743.41c0 13.141 10.74 23.887 23.88 23.887 12.55.0 23.3-10.746 23.3-23.887V367.148c0-13.132-10.75-23.886-23.3-23.886-13.14.0-23.88 10.754-23.88 23.886v167.227H1812.7V367.148c0-13.132-10.76-23.886-23.9-23.886-12.53.0-23.29 10.754-23.29 23.886V743.41"/><path id="path3371" style="fill:#696566;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m2554.86 554.082v1.203c0 94.957-69.28 172.598-164.83 172.598-95.56.0-163.65-76.445-163.65-171.406v-1.192c0-94.961 69.28-172.597 164.84-172.597 95.55.0 163.64 76.445 163.64 171.394zm-377.45.0v1.203c0 115.262 86.6 216.192 213.81 216.192 127.2.0 212.6-99.739 212.6-215v-1.192c0-115.265-86.59-216.203-213.79-216.203-127.22.0-212.62 99.738-212.62 215"/><path id="path3373" style="fill:#696566;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m2756.35 720.715h-121.24c-11.94.0-22.09 9.555-22.09 21.5.0 11.941 10.15 22.098 22.09 22.098h290.26c11.94.0 22.1-10.157 22.1-22.098.0-11.945-10.16-21.5-22.1-21.5h-121.23V367.148c0-13.132-10.75-23.886-23.9-23.886-13.13.0-23.89 10.754-23.89 23.886v353.567"/><path id="path3375" style="fill:#696566;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m3332.78 554.082v1.203c0 94.957-69.28 172.598-164.83 172.598-95.56.0-163.65-76.445-163.65-171.406v-1.192c0-94.961 69.28-172.597 164.84-172.597 95.55.0 163.64 76.445 163.64 171.394zm-377.45.0v1.203c0 115.262 86.6 216.192 213.81 216.192 127.2.0 212.6-99.739 212.6-215v-1.192c0-115.265-86.59-216.203-213.79-216.203-127.22.0-212.62 99.738-212.62 215"/><path id="path3377" style="fill:#696566;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m3458.31 742.813c0 12.539 10.75 23.292 23.29 23.292h6.57c10.75.0 17.32-5.375 23.89-13.742l253.83-323.691v315.332c0 12.547 10.14 23.293 23.29 23.293 12.54.0 22.69-10.746 22.69-23.293V366.555c0-12.539-8.96-22.09-21.5-22.09h-2.4c-10.14.0-17.31 5.965-24.48 14.324l-259.2 331.465V366.555c0-12.539-10.14-23.293-23.29-23.293-12.54.0-22.69 10.754-22.69 23.293v376.258"/><path id="path3379" style="fill:#696566;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m3982.91 759.98c0 4.528 3.13 7.665 7.66 7.665h2.09c3.14.0 5.22-1.395 6.97-3.829l37.6-58.503 38.3 58.503c1.74 2.434 3.83 3.829 6.61 3.829h2.09c3.83.0 7.32-3.485 7.32-7.665v-94.011c0-4.18-3.49-7.66-7.66-7.66-4.18.0-7.31 3.48-7.31 7.66v72.426l-32.38-48.403c-1.75-2.785-3.83-4.527-6.97-4.527-3.13.0-5.22 1.742-6.96 4.527l-32.04 48.403v-72.426c0-4.18-3.48-7.66-7.66-7.66s-7.66 3.48-7.66 7.66v94.011zm-73.47-7.308h-28.91c-3.82.0-7.3 3.48-7.3 7.308.0 3.836 3.48 7.317 7.3 7.317h72.78c4.18.0 7.31-3.481 7.31-7.317.0-3.828-3.13-7.308-7.31-7.308h-28.55v-86.703c0-4.18-3.48-7.66-8.01-7.66-4.18.0-7.31 3.48-7.31 7.66v86.703"/><path id="path3381" style="fill:#696566;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m597.898 989.039c-236.39.0-428.714-192.324-428.714-428.719.0-236.39 192.324-428.715 428.714-428.715 236.395.0 428.722 192.325 428.722 428.715.0 236.395-192.327 428.719-428.722 428.719zm0-954.289c-289.796.0-525.566 235.773-525.566 525.57s235.77 525.57 525.566 525.57c289.801.0 525.572-235.773 525.572-525.57S887.699 34.75 597.898 34.75"/><g id="g3383"><g clip-path="url(#clipPath3387)" id="g3385"><path id="path3397" style="fill:url(#linearGradient3391);fill-opacity:1;fill-rule:nonzero;stroke:none" d="M142.293 245.191l494.93 337.36L74.8398 348.098"/></g></g><path id="path3399" style="fill:#62b92c;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m167.938 304.09c-4.524 34.332-36.024 58.496-70.356 53.973-34.332-4.52-58.5-36.02-53.9765-70.352 4.5234-34.336 36.0234-58.5 70.3555-53.977 34.332 4.524 58.5 36.02 53.977 70.356"/><g id="g3401"><g clip-path="url(#clipPath3405)" id="g3403"><path id="path3415" style="fill:url(#linearGradient3409);fill-opacity:1;fill-rule:nonzero;stroke:none" d="M85.2852 570.719 516.813 593.84 54.5195 690.582"/></g></g><path id="path3417" style="fill:#133a73;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m124.875 636.605c-4.523 34.333-36.0234 58.5-70.3555 53.977C20.1875 686.059-3.98047 654.559.542969 620.227 5.06641 585.895 36.5664 561.727 70.8984 566.25c34.3356 4.523 58.4996 36.023 53.9766 70.355"/><g id="g3419"><g clip-path="url(#clipPath3423)" id="g3421"><path id="path3433" style="fill:url(#linearGradient3427);fill-opacity:1;fill-rule:nonzero;stroke:none" d="m538.137 270.234 95.324 293.5-205.699-247.089"/></g></g><path id="path3435" style="fill:#4194d7;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m541.352 289.715c-4.524 34.332-36.024 58.5-70.356 53.973-34.336-4.52-58.5-36.02-53.976-70.352 4.523-34.336 36.023-58.5 70.355-53.977 34.332 4.524 58.496 36.024 53.977 70.356"/><g id="g3437"><g clip-path="url(#clipPath3441)" id="g3439"><path id="path3451" style="fill:url(#linearGradient3445);fill-opacity:1;fill-rule:nonzero;stroke:none" d="M857.758 94.3906 656.035 546.801 745.172 53.6406"/></g></g><path id="path3453" style="fill:#b9d110;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m846.91 110.883c-26.609 22.164-66.144 18.558-88.308-8.051-22.164-26.6132-18.559-66.1406 8.05-88.3125 26.61-22.16013 66.145-18.55075 88.309 8.0586 22.164 26.6016 18.559 66.1446-8.051 88.3049"/><g id="g3455"><g clip-path="url(#clipPath3459)" id="g3457"><path id="path3469" style="fill:url(#linearGradient3463);fill-opacity:1;fill-rule:nonzero;stroke:none" d="M481.316 864.746 635.938 602.125l-41.313 301.32"/></g></g><path id="path3471" style="fill:#b9d110;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m491.863 848.059c26.203-22.645 65.797-19.758 88.442 6.441 22.64 26.203 19.758 65.797-6.446 88.441-26.199 22.645-65.796 19.758-88.437-6.445-22.645-26.199-19.762-65.797 6.441-88.437"/><g id="g3473"><g clip-path="url(#clipPath3477)" id="g3475"><path id="path3487" style="fill:url(#linearGradient3481);fill-opacity:1;fill-rule:nonzero;stroke:none" d="M1085.54 913.828 683.598 585.359l456.522 219.75"/></g></g><path id="path3489" style="fill:#22638b;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m1050.12 855.145c2.26-34.555 32.1-60.743 66.66-58.485 34.55 2.254 60.74 32.098 58.48 66.653-2.25 34.554-32.09 60.742-66.65 58.484-34.56-2.254-60.74-32.098-58.49-66.652"/><g id="g3491"><g clip-path="url(#clipPath3495)" id="g3493"><path id="path3505" style="fill:url(#linearGradient3499);fill-opacity:1;fill-rule:nonzero;stroke:none" d="M1177.19 335.031 693.664 556.211 1106.69 235.887"/></g></g><path id="path3507" style="fill:#91d2e1;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m1108.75 338.84c-29.47-18.176-38.63-56.805-20.46-86.281 18.18-29.477 56.81-38.637 86.29-20.461 29.47 18.179 38.63 56.808 20.45 86.285-18.17 29.476-56.8 38.637-86.28 20.457"/><g id="g3509"><g clip-path="url(#clipPath3513)" id="g3511"><path id="path3523" style="fill:url(#linearGradient3517);fill-opacity:1;fill-rule:nonzero;stroke:none" d="M209.754 773.73l382.32-187.417L280.926 872.391"/></g></g><path id="path3525" style="fill:#91d2e1;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m278.168 769.453c29.598 17.977 39.02 56.543 21.043 86.145-17.977 29.597-56.543 39.019-86.145 21.043-29.597-17.977-39.019-56.543-21.043-86.141 17.977-29.602 56.543-39.023 86.145-21.047"/><path id="path3527" style="fill:#62b92c;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m714.422 718.262c8.172-9.321 22.351-10.246 31.672-2.074 9.316 8.175 10.246 22.355 2.07 31.675-8.172 9.317-22.351 10.246-31.672 2.071-9.316-8.172-10.246-22.356-2.07-31.672"/><path id="path3529" style="fill:#62b92c;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m827.305 484.969c8.175-9.321 22.355-10.25 31.672-2.074 9.32 8.171 10.25 22.355 2.074 31.671-8.172 9.321-22.356 10.247-31.672 2.075-9.32-8.176-10.246-22.356-2.074-31.672"/><path id="path3531" style="fill:#62b92c;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m906.813 877.289c8.175-9.316 22.355-10.246 31.675-2.07 9.317 8.172 10.246 22.351 2.071 31.672-8.172 9.32-22.356 10.246-31.672 2.074-9.321-8.176-10.246-22.356-2.074-31.676"/><path id="path3533" style="fill:#62b92c;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m987.531 166.984c8.172-9.32 22.359-10.246 31.669-2.074 9.32 8.176 10.25 22.356 2.08 31.676-8.18 9.316-22.358 10.242-31.678 2.07-9.317-8.176-10.247-22.355-2.071-31.672"/><path id="path3535" style="fill:#62b92c;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m140.008 473.707c8.172-9.32 22.351-10.246 31.672-2.074 9.316 8.176 10.246 22.355 2.074 31.676-8.176 9.316-22.356 10.246-31.676 2.07-9.316-8.172-10.246-22.356-2.07-31.672"/><path id="path3537" style="fill:#62b92c;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m609.063 315.641c8.171-9.321 22.355-10.246 31.671-2.075 9.321 8.176 10.246 22.356 2.075 31.676-8.176 9.317-22.356 10.246-31.676 2.071-9.317-8.172-10.246-22.352-2.07-31.672"/><path id="path3539" style="fill:#62b92c;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m458.551 398.422c8.172-9.317 22.351-10.246 31.672-2.07 9.32 8.171 10.246 22.351 2.074 31.671-8.176 9.317-22.356 10.247-31.676 2.071-9.316-8.172-10.246-22.352-2.07-31.672"/><path id="path3541" style="fill:#133a73;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m518.754 661.82c8.176-9.32 22.355-10.246 31.672-2.074 9.32 8.176 10.25 22.356 2.074 31.676-8.176 9.316-22.355 10.246-31.672 2.07-9.32-8.172-10.25-22.355-2.074-31.672"/><path id="path3543" style="fill:#133a73;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m744.523 394.66c8.172-9.32 22.356-10.246 31.672-2.074 9.321 8.176 10.246 22.355 2.075 31.676-8.176 9.316-22.356 10.246-31.672 2.07-9.321-8.172-10.25-22.355-2.075-31.672"/><path id="path3545" style="fill:#133a73;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m714.422 605.379c8.172-9.32 22.351-10.246 31.672-2.074 9.316 8.172 10.246 22.355 2.07 31.672-8.172 9.32-22.351 10.246-31.672 2.074-9.316-8.176-10.246-22.356-2.07-31.672"/><path id="path3547" style="fill:#133a73;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m368.242 469.918c8.172-9.32 22.356-10.25 31.672-2.074 9.32 8.172 10.246 22.355 2.074 31.672-8.175 9.32-22.355 10.246-31.675 2.074-9.317-8.176-10.247-22.356-2.071-31.672"/><path id="path3549" style="fill:#4194d7;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m633.461 620.176c8.172-9.317 22.355-10.246 31.672-2.071 9.32 8.172 10.246 22.356 2.074 31.672-8.176 9.321-22.355 10.246-31.676 2.075-9.316-8.176-10.246-22.356-2.07-31.676"/><path id="path3551" style="fill:#4194d7;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m646.691 752.129c8.172-9.32 22.352-10.25 31.672-2.074 9.321 8.172 10.246 22.355 2.075 31.672-8.176 9.32-22.356 10.246-31.676 2.074-9.317-8.176-10.246-22.356-2.071-31.672"/><path id="path3553" style="fill:#4194d7;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m819.777 334.453c8.176-9.316 22.356-10.246 31.676-2.07 9.317 8.172 10.246 22.351 2.07 31.672-8.171 9.32-22.351 10.246-31.671 2.074-9.321-8.176-10.247-22.356-2.075-31.676"/><path id="path3555" style="fill:#4194d7;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m812.242 571.512c8.176-9.321 22.356-10.246 31.676-2.074 9.316 8.175 10.246 22.355 2.07 31.675-8.172 9.317-22.351 10.246-31.672 2.071-9.316-8.172-10.246-22.356-2.074-31.672"/><path id="path3557" style="fill:#4194d7;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m382.156 392.988c8.172-9.316 22.356-10.246 31.672-2.07 9.32 8.172 10.246 22.355 2.074 31.672-8.175 9.32-22.355 10.246-31.672 2.074-9.32-8.176-10.25-22.355-2.074-31.676"/><path id="path3559" style="fill:#4194d7;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m613.543 476.398c8.176-9.32 22.355-10.25 31.676-2.074 9.316 8.176 10.246 22.356 2.07 31.672-8.172 9.32-22.355 10.246-31.672 2.074-9.32-8.175-10.246-22.355-2.074-31.672"/><path id="path3561" style="fill:#4194d7;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m435.969 645.902c8.172-9.32 22.351-10.246 31.672-2.074 9.32 8.176 10.246 22.356 2.074 31.676-8.176 9.316-22.356 10.246-31.676 2.07-9.316-8.172-10.246-22.355-2.07-31.672"/><path id="path3563" style="fill:#4194d7;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m629.688 164.293c8.171-9.32 22.355-10.246 31.671-2.074 9.321 8.176 10.246 22.355 2.075 31.676-8.176 9.316-22.356 10.246-31.672 2.07-9.321-8.172-10.25-22.356-2.074-31.672"/><path id="path3565" style="fill:#b9d110;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m499.398 462.395c12.329-1.301 23.379 7.632 24.684 19.96 1.305 12.325-7.633 23.375-19.961 24.68-12.324 1.305-23.375-7.633-24.68-19.957-1.304-12.328 7.633-23.379 19.957-24.683"/><path id="path3567" style="fill:#b9d110;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m721.23 510.641c-12.3 1.527-23.511-7.207-25.039-19.508-1.527-12.301 7.207-23.512 19.508-25.039 12.301-1.528 23.512 7.207 25.039 19.508 1.528 12.3-7.207 23.507-19.508 25.039"/><path id="path3569" style="fill:#22638b;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m594.34 420.676c-7.543 9.836-21.629 11.695-31.469 4.152-9.836-7.543-11.691-21.633-4.148-31.469s21.632-11.695 31.468-4.152 11.696 21.633 4.149 31.469"/><path id="path3571" style="fill:#22638b;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m594.828 581.156c-7.543 9.836-21.633 11.696-31.469 4.153s-11.695-21.633-4.152-31.469c7.547-9.836 21.633-11.695 31.469-4.152 9.836 7.542 11.695 21.632 4.152 31.468"/><path id="path3573" style="fill:#91d2e1;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m458.199 576.973c5.156 11.273.199 24.59-11.07 29.75-11.274 5.156-24.59.199-29.746-11.071-5.16-11.273-.203-24.589 11.066-29.75 11.274-5.156 24.594-.199 29.75 11.071"/><path id="path3575" style="fill:#91d2e1;fill-opacity:1;fill-rule:nonzero;stroke:none" d="m635.691 569.449c-5.234-11.234-.367-24.59 10.868-29.82 11.238-5.234 24.589-.371 29.824 10.867 5.234 11.234.367 24.586-10.867 29.82-11.239 5.235-24.59.372-29.825-10.867"/></g></g></svg></div></div><div class="row d-flex m-0 my-4 justify-content-end align-items-end"><small class="text-dark align-content-center mx-3">&copy; 2021 Photon OS Authors. <a href=https://vmware.github.io>A VMware Backed Project</a></small><div class=text-right><a href=../../../><img class=vmw-footer-logo src=../../../img/vmware-logo.svg></a></div></div></footer></div></div></div><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script src=../../../js/main.min.906bd02f142be20eb94bb49539a18a3e93ec0b9ff5f5dcf3796eed436a6103d2.js integrity="sha256-kGvQLxQr4g65S7SVOaGKPpPsC5/19dzzeW7tQ2phA9I=" crossorigin=anonymous></script><script src=../../../js/animated.js></script></body></html>
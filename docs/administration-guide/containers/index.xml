<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>– Containers</title><link>/docs/administration-guide/containers/</link><description>Recent content in Containers on</description><generator>Hugo -- gohugo.io</generator><atom:link href="/docs/administration-guide/containers/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: Docker Containers</title><link>/docs/administration-guide/containers/docker-containers/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/docs/administration-guide/containers/docker-containers/</guid><description>
&lt;p>On Photon OS, the Docker daemon is enabled by default. To view the status of the daemon, run the following command:&lt;/p>
&lt;pre>&lt;code>systemctl status docker
&lt;/code>&lt;/pre>
&lt;p>Docker is loaded and running by default on the full version of Photon OS. On the minimal version, it is loaded but not running by default. To start it, run the following command:&lt;/p>
&lt;pre>&lt;code>systemctl start docker
&lt;/code>&lt;/pre>
&lt;p>To obtain information about Docker, run the following command as root:&lt;/p>
&lt;pre>&lt;code>docker info
&lt;/code>&lt;/pre>
&lt;p>After Docker is enabled and started, you can create a container. For example, run the following docker command as root to create a container running Ubuntu 14.04 with an interactive terminal shell:&lt;/p>
&lt;pre>&lt;code>docker run -i -t ubuntu:14.04 /bin/bash
&lt;/code>&lt;/pre>
&lt;p>Photon OS also enables you to run a docker container that runs Photon OS:&lt;/p>
&lt;pre>&lt;code>docker run -i -t photon /bin/bash
&lt;/code>&lt;/pre></description></item><item><title>Docs: Kubernetes</title><link>/docs/administration-guide/containers/kubernetes/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/docs/administration-guide/containers/kubernetes/</guid><description>
&lt;p>The Kubernetes package provides several services: kube-apiserver, kube-scheduler, kube-controller-manager, kubelet, kube-proxy. These services are managed by &lt;code>systemd&lt;/code>. Their configuration resides in a central location: &lt;code>/etc/kubernetes&lt;/code>.&lt;/p>
&lt;p>For more information, see &lt;a href="../../../user-guide/kubernetes-on-photon-os/">Running Kubernetes on Photon OS&lt;/a>.&lt;/p></description></item><item><title>Docs: Support for distributed builds using Kubernetes</title><link>/docs/administration-guide/containers/support_distributed_builds/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/docs/administration-guide/containers/support_distributed_builds/</guid><description>
&lt;p>The distributed system using Kubernetes allows the build system to utilize the maximum CPU power across a kubernetes cluster (pods) for faster build process.&lt;/p>
&lt;p>Prerequisites&lt;/p>
&lt;ul>
&lt;li>Ensure that the NFS server is running&lt;/li>
&lt;li>Ensure that you have the Kubernetes cluster ready that has access to the NFS server&lt;/li>
&lt;li>Esure that you have installed Kubernetes package and have &lt;code>kubeconfig&lt;/code> accessible in the build VM.&lt;/li>
&lt;/ul>
&lt;h2 id="triggering-distributed-photon-builds">Triggering Distributed Photon Builds&lt;/h2>
&lt;p>Perform the following steps in the Photon OS repository:&lt;/p>
&lt;ol>
&lt;li>Update the &lt;code>'common/data/distributed_build_options.json'&lt;/code> configuration file . The following parameters need to be filled:&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>
&lt;p>command→ target to run like &lt;code>'make packages'&lt;/code> or &lt;code>'make packages-minimal'&lt;/code> or &lt;code>'make toolchain-stage-1'&lt;/code> or so on.
Note: Keep the &lt;code>command&lt;/code> with flag &lt;code>'SCHEDULER_SERVER=enable'&lt;/code>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>nfs-server-ip→ IP address of the nfs server&lt;/p>
&lt;/li>
&lt;li>
&lt;p>pods→ number of builder/worker pods you want such as 10 or 20. The default value is 1.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>nfs-server-path-&amp;gt; path of the nfs mount. For example,&lt;code>/mnt/NFS_PATH/MY_DIR&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;ol start="2">
&lt;li>Run &lt;code>make distributed-build&lt;/code>.&lt;/li>
&lt;/ol>
&lt;p>Note:&lt;/p>
&lt;p>i)This process will make use of the &lt;code>kubeconfig&lt;/code> file present under the home directory and start building packages over the specified cluster.&lt;/p>
&lt;p>ii)It creates one Master pod and multiple worker pods (numbers defined in config.json).&lt;/p>
&lt;p>iii)The master pod runs the scheduler while the worker or the builder pods build the packages.&lt;/p>
&lt;p>iv)Distributed Builder monitors the build mob and deletes everything when build has either completed successfully or failed.&lt;/p>
&lt;p>The master starts the scheduler server to schedule the packages that have to be built.
The worker makes REST calls to scheduler server.get package and notify after the build.&lt;/p>
&lt;p>The distributed build also builds cloud images.&lt;/p></description></item></channel></rss>
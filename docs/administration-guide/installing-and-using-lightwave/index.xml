<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>â€“ Remotely Upgrading a Photon OS Machine</title><link>/docs/administration-guide/installing-and-using-lightwave/</link><description>Recent content in Remotely Upgrading a Photon OS Machine on</description><generator>Hugo -- gohugo.io</generator><atom:link href="/docs/administration-guide/installing-and-using-lightwave/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: Remotely Upgrade a Single Photon OS Machine With Photon Management Daemon</title><link>/docs/administration-guide/installing-and-using-lightwave/remotely-upgrade-a-photon-os-machine-with-lightwave-client-and-photon-management-daemon-installed/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/docs/administration-guide/installing-and-using-lightwave/remotely-upgrade-a-photon-os-machine-with-lightwave-client-and-photon-management-daemon-installed/</guid><description>
&lt;p>After you have a configured the Photon Management Daemon on a machine, you can remotely upgrade any installed package on that machine. You can use the &lt;code>root&lt;/code> user credentials.&lt;/p>
&lt;p>Upgrade process uses &lt;code>pmd-cli&lt;/code> that is supported from Photon Management Daemon. You can initiate the upgrade process from any machine that has Photon Management Daemon CLI installed.&lt;/p>
&lt;h2 id="prerequisites">Prerequisites&lt;/h2>
&lt;ul>
&lt;li>Have an installed Photon Management Daemon on the client.&lt;/li>
&lt;li>Have in installed Photon Management Daemon CLI (pmd-cli) on a machine from which you perform the updates.&lt;/li>
&lt;/ul>
&lt;h2 id="procedure">Procedure&lt;/h2>
&lt;ol>
&lt;li>
&lt;p>To initiate remote upgrade, log in to a machine that has Photon Management Daemon CLI installed over SSH.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Identify packages that can be upgraded on the client machine.
2. List the available updates for the machine.&lt;/p>
&lt;pre>&lt;code> `# pmd-cli --server-name &amp;lt;machine-IP-address&amp;gt; --user root pkg list updates`
&lt;/code>&lt;/pre>
&lt;ol start="3">
&lt;li>
&lt;p>Verify the currently installed version of a package, for example &lt;code>sed&lt;/code>.&lt;/p>
&lt;p>&lt;code># &lt;/code># pmd-cli &amp;ndash;server-name &lt;machine-IP-address> &amp;ndash;user root pkg installed sed`
The installed version number shows as earlier than the one listed under the available updates.&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;p>Initiate the upgrade, in this example of the &lt;code>sed&lt;/code> package, enter password, and wait for the command to complete.&lt;/p>
&lt;p>&lt;code># pmd-cli --server-name &amp;lt;machine-IP-address&amp;gt; --user root pkg update sed&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>(Optional) Verify that the client machine package was upgraded successfully.&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Log in to the machine that was upgraded over SSH.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>List the installed version of the &lt;code>sed&lt;/code> package.&lt;/p>
&lt;p>&lt;code># pmd-cli --server-name &amp;lt;machine-IP-address&amp;gt; --user root pkg installed sed&lt;/code>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol></description></item><item><title>Docs: Remotely Upgrade Multiple Photon OS Machines With Photon Management Daemon</title><link>/docs/administration-guide/installing-and-using-lightwave/remotely-upgrade-multiple-photon-os-machines-with-lightwave-client-and-photon-management-daemon-installed/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>/docs/administration-guide/installing-and-using-lightwave/remotely-upgrade-multiple-photon-os-machines-with-lightwave-client-and-photon-management-daemon-installed/</guid><description>
&lt;p>After you have a configured the Photon Management Daemon (PMD) on multiple machines, you can remotely upgrade any installed package on these machines.&lt;/p>
&lt;p>Upgrade process uses &lt;code>copenapi_cli&lt;/code> that is supported from Photon Management Daemon. You can initiate the upgrade process from any machine that has Photon Management Daemon installed.&lt;/p>
&lt;h2 id="prerequisites">Prerequisites&lt;/h2>
&lt;ul>
&lt;li>Have installed Photon Management Daemon on the clients.&lt;/li>
&lt;/ul>
&lt;h2 id="procedure">Procedure&lt;/h2>
&lt;ol>
&lt;li>
&lt;p>To initiate remote upgrade, log in to a Photon OS machine over SSH to install the Photon Management Daemon CLI.&lt;/p>
&lt;p>&lt;code># tdnf install pmd-cli&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Edit the &lt;code>copenapi_cli&lt;/code> spec files so that you can specify the machines you want to upgrade and credentials to be used.&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Edit the &lt;code>.netrc&lt;/code> file to specify machines to be upgraded and credentials for the PMD service.&lt;/p>
&lt;p>&lt;code># vi ~/.netrc&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>In the file, enter the IP addresses for the machines and administrative credentials, save and close the file.&lt;/p>
&lt;p>&lt;code># machine &amp;lt;IP-address&amp;gt; login &amp;lt;pmd-administrative-user&amp;gt; password &amp;lt;pmd-administrative user-password&amp;gt;&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>(Optional) Get the location of the &lt;code>restapispec.json&lt;/code> file.&lt;/p>
&lt;p>&lt;code># cat ~/.copenapi&lt;/code>&lt;/p>
&lt;p>This command returns &lt;code>apispec=/root/restapispec.json&lt;/code> as path for the spec file.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Edit the &lt;code>restapispec.json&lt;/code> file to enter the IP address of the machine to be upgraded.&lt;/p>
&lt;p>&lt;code># vi /root/restapispec.json&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Change the &lt;code>host&lt;/code> value to the IP address or the hostname of the machine, leave the port number, and save and close the file.&lt;/p>
&lt;p>&lt;code>&amp;quot;host&amp;quot;:&amp;quot;&amp;lt;ip-address&amp;gt;:2081&amp;quot;&lt;/code>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;li>
&lt;p>Initiate the upgrade, in this example of the &lt;code>sed&lt;/code> package and wait for the command to complete.&lt;/p>
&lt;p>Specify &lt;code>-k&lt;/code> to force blind trust of certificates and &lt;code>-n&lt;/code> to use the credentials from the &lt;code>.netrc&lt;/code> file.
&lt;code># copenapi_cli pkg update --packages sed -kn&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>(Optional) Verify that the package was upgraded successfully.&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Log in to the machine that was upgraded over SSH.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>List the installed version of the &lt;code>sed&lt;/code> package.&lt;/p>
&lt;p>&lt;code># tdnf list installed sed&lt;/code>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ol></description></item></channel></rss>